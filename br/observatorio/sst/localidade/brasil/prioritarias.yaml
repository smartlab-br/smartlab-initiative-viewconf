# ===================================================
principais:
  - relevance: 'lead'
    cls: 'xs12 xl6'
    rowClass: "pt-0 px-3 pb-5"
    api:
      fixed: "/sst/indicadoresnacionais?categorias=cd_indicador,vl_indicador,ds_fonte,nu_competencia&filtros=eq-cd_indicador-'sst_cat_total',and,eq-nu_competencia-nu_competencia_max"
    args:
      - prop: "value"
        named_prop: 'vl_indicador'
        format: 'inteiro'
        collapse:
          format: 'real'
      - prop: "description"
        fixed: "NOTIFICAÇÕES DE ACIDENTES DE TRABALHO (CAT) - TOTAL DE ACIDENTES"
      - prop: 'comment'
        template: "({0}, {1})"
        args:
          - named_prop: "ds_fonte"
          - named_prop: "nu_competencia"
  - relevance: 'lead'
    cls: 'xs12 xl6'
    rowClass: "pt-0 px-3 pb-5"
    api:
      fixed: "/sst/indicadoresnacionais?categorias=cd_indicador,vl_indicador,ds_fonte,nu_competencia&filtros=eq-cd_indicador-'sst_bene_qtd_especie',and,eq-ds_agreg_primaria-'91',and,eq-nu_competencia-nu_competencia_max"
    args:
      - prop: "value"
        named_prop: 'vl_indicador'
        format: 'inteiro'
        collapse:
          format: 'real'
      - prop: "description"
        fixed: "CONCESSÕES DE BENEFÍCIO PREVIDENCIÁRIO - AUXÍLIO-DOENÇA POR ACIDENTE DO TRABALHO (B91)"
      - prop: 'comment'
        template: "({0}, {1})"
        args:
          - named_prop: "ds_fonte"
          - named_prop: "nu_competencia"
  - relevance: 'lead'
    cls: 'xs12 xl6'
    rowClass: "pt-0 px-3 pb-5"
    preloaded:
      prop: "centralindicadores"
      function: "slice"
      id: "06_05_10_00"
      year: "max"
    args:
      - prop: "value"
        named_prop: 'vl_indicador'
        format: 'inteiro'
        collapse:
          format: 'real'
      - prop: "description"
        named_prop: "ds_indicador_radical"
      - prop: 'comment'
        template: "({0}, {1})"
        args:
          - named_prop: "ds_fonte"
          - named_prop: "nu_competencia"
# ========================================================
secoes:
  - id: 'prioritarias'
    name: 'Áreas Prioritárias'
    cards:

# ========================================================
      # - id: "card_sugestoes_ocupacoes"
      #   title:
      #     fixed: "Sugestões SmartLab de Temas para Campanhas de Prevenção - Ocupações"
      #   title_comment:
      #     fixed: "Brasil, 2022"
      #   description:
      #     - type: "minicards"
      #       cards:
      #         - relevance: 'high'
      #           cls: 'xs12'
      #           api:
      #             fixed: "/indicadoresmunicipais?categorias=vl_indicador_txt&agregacao=count&filtros=eq-cd_indicador-'77_77_77_01',and,eq-nu_competencia-nu_competencia_max&ordenacao=-agr_count&limit=1"
      #           args:
      #             - prop: "value"
      #               named_prop: 'vl_indicador_txt'
      #               # format: 'inteiro'
      #               # collapse:
      #               #   format: 'real'
      #             - prop: "description"
      #               fixed: "FOCO DE CAMPANHA MAIS RECOMENDADO"
      #     - type: "text"
      #       title: ""
      #       content:
      #         fixed: "Como um dos primeiros resultados do projeto SmartLab IA, apresenta-se, na tabela ao lado, uma contribuição para agenda de prevenção de doenças e acidentes de trabalho em complemento à Campanha Nacional de Prevenção de Acidentes do Trabalho (CANPAT), que em 2022 pretende aprofundar aspectos da “Gestão de Riscos Ocupacionais”. <br/>Destacam-se, para cada município, recomendações de prioridade para campanhas e ações de âmbito municipal, considerando a probabilidade de ocorrência de doenças e acidentes de trabalho no que tange à perspectiva ocupacional. Para produzir as recomendações, foram utilizados métodos probabilísticos e algorítimos como árvores de decisão aplicadas à série histórica recente de dados municipais. <br/>Com isso, busca-se maximizar a utilização de dados públicos disponíveis mas ainda subutilizados no campo das políticas de redução dos riscos inerentes ao trabalho. "
      #   component_type: "DATATABLE"
      #   api:
      #     - fixed: "/indicadoresmunicipais?categorias=sg_uf,nm_municipio,vl_indicador_txt,cd_indicador,cd_mun_ibge,ds_fonte,nu_competencia,ds_indicador,'Foco de campanha'-calc_header_label&filtros=eq-cd_indicador-'77_77_77_01',and,eq-nu_competencia-nu_competencia_max&ordenacao=-nm_municipio"
      #       options:
      #         calcs:
      #           - id: "fmt_value"
      #             function: "get_formatted_value"
      #             fn_args:
      #               - named_prop: "ds_indicador"
      #               - named_prop: "vl_indicador_txt"
      #               - named_prop: "sg_uf"
      #   headers:
      #     - text: 'UF'
      #       align: 'center'
      #       value: 'sg_uf'
      #       item_align: 'center'
      #     - text: 'Município'
      #       align: 'center'
      #       value: 'nm_municipio'
      #       item_align: 'center'
      #   component_options:
      #     id: "datatable_sugetoes_ocupacoes"
      #     title: "Sugestões SmartLab de Temas para Campanhas de Prevenção - Ocupações"
      #     cls: "xs12 md6 lg4 pa-3"
      #     pivot: 
      #       col_fields: ["sg_uf","nm_municipio","cd_mun_ibge"]
      #       layer_field: "calc_header_label"
      #       fmt_value_field: "vl_indicador_txt"
      #       value_field: "nm_municipio"
      #       order: "asc"
      #     search_position: "bottom"
      #   source:
      #     desc: "SmartLab IA, 2022"
# ========================================================

# ========================================================
      - id: "card_sugestoes_categorias"
        title:
          fixed: "Sugestões SmartLab de Temas para Campanhas de Prevenção - Categorias"
        title_comment:
          fixed: "Brasil, 2022"
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs12'
                api:
                  fixed: "/indicadoresmunicipais?categorias=vl_indicador_txt&agregacao=count&filtros=eq-cd_indicador-'77_77_77_02',and,eq-nu_competencia-nu_competencia_max&ordenacao=-agr_count&limit=1"
                args:
                  - prop: "value"
                    named_prop: 'vl_indicador_txt'
                    # format: 'inteiro'
                    # collapse:
                    #   format: 'real'
                  - prop: "description"
                    fixed: "FOCO DE CAMPANHA MAIS RECOMENDADO"
          - type: "text"
            title: ""
            content:
              fixed: "Como um dos primeiros resultados do projeto SmartLab IA, apresenta-se, na tabela ao lado, uma contribuição para agenda de prevenção de doenças e acidentes de trabalho em complemento à Campanha Nacional de Prevenção de Acidentes do Trabalho (CANPAT), que em 2022 pretende aprofundar aspectos da “Gestão de Riscos Ocupacionais”. <br/>Destacam-se, para cada município, recomendações de prioridade para campanhas e ações de âmbito municipal, considerando a probabilidade de ocorrência de doenças e acidentes de trabalho no que tange à perspectiva da natureza da lesão. Para produzir as recomendações, foram utilizados métodos probabilísticos e algorítimos como árvores de decisão aplicadas à série histórica recente de dados municipais. <br/>Com isso, busca-se maximizar a utilização de dados públicos disponíveis mas ainda subutilizados no campo das políticas de redução dos riscos inerentes ao trabalho. "
          - id: "select_cerest"
            type: "select"
            label: "CEREST Regional"
            default:
              base_object: "cerest"
              named_prop: "nm_cerest"
            api:
              fixed: "/indicadoresmunicipais?categorias=nm_cerest&agregacao=DISTINCT&filtros=eq-cd_indicador-'POP_DOU_01',and,eq-nu_competencia-nu_competencia_max"
            args:
              - prop: "id"
                named_prop: "nm_cerest"
              - prop: "label"
                named_prop: "nm_cerest"
            selection:
              event: "selection"
              rules:
                filter: ",and,eq-nm_cerest-'{0}'"
                api:
                  args:
                    - named_prop: "nm_cerest"
        component_type: "DATATABLE"
        api:
          - fixed: "/indicadoresmunicipais?categorias=sg_uf,nm_municipio,vl_indicador_txt,cd_indicador,cd_municipio_ibge-cd_mun_ibge,ds_fonte,nu_competencia,ds_indicador,'Foco de campanha'-calc_header_label&ordenacao=-nm_municipio&filtros=eq-cd_indicador-'77_77_77_02',and,eq-nu_competencia-nu_competencia_max"
          - fixed: "/sst/indicadoresmunicipais?categorias=sg_uf,nm_municipio,vl_indicador-vl_indicador_txt,cd_mun_ibge,'vl_indicador_cats'-calc_header_label&filtros=eq-cd_indicador-'sst_cat_total',and,eq-nu_competencia-nu_competencia_max,and,gt-vl_indicador-100"
        headers:
          - text: 'UF'
            align: 'center'
            value: 'sg_uf'
            item_align: 'center'
          - text: 'Município'
            align: 'center'
            value: 'nm_municipio'
            item_align: 'center'
        component_options:
          id: "datatable_sugetoes_categorias"
          title: "Sugestões SmartLab de Temas para Campanhas de Prevenção - Categorias"
          cls: "xs12 md6 lg4 pa-3"
          hidden_cols: ["vl_indicador_cats"]
          check:
            label: "Apenas Municípios com mais de 100 acidentes em 2021"
            column: "vl_indicador_cats"
            checked: true
          pivot: 
            col_fields: ["sg_uf","nm_municipio","cd_mun_ibge"]
            layer_field: "calc_header_label"
            fmt_value_field: "vl_indicador_txt"
            value_field: "nm_municipio"
            order: "asc"
          search_position: "bottom"
        source:
          desc: "SmartLab IA, 2022"
# ========================================================

# ========================================================
      - id: "card_sugestoes_agentes_causadores"
        title:
          fixed: "Sugestões SmartLab de Temas para Campanhas de Prevenção - Agentes Causadores"
        title_comment:
          fixed: "Brasil, 2022"
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs12'
                api:
                  fixed: "/indicadoresmunicipais?categorias=vl_indicador_txt&agregacao=count&filtros=eq-cd_indicador-'77_77_77_03',and,eq-nu_competencia-nu_competencia_max&ordenacao=-agr_count&limit=1"
                args:
                  - prop: "value"
                    named_prop: 'vl_indicador_txt'
                    # format: 'inteiro'
                    # collapse:
                    #   format: 'real'
                  - prop: "description"
                    fixed: "FOCO DE CAMPANHA MAIS RECOMENDADO"
          - type: "text"
            title: ""
            content:
              fixed: "Como um dos primeiros resultados do projeto SmartLab IA, apresenta-se, na tabela ao lado, uma contribuição para agenda de prevenção de doenças e acidentes de trabalho em complemento à Campanha Nacional de Prevenção de Acidentes do Trabalho (CANPAT), que em 2022 pretende aprofundar aspectos da “Gestão de Riscos Ocupacionais”. <br/>Destacam-se, para cada município, recomendações de prioridade para campanhas e ações de âmbito municipal, considerando a probabilidade de ocorrência de doenças e acidentes de trabalho no que tange à perspectiva das causas de afastamento. Para produzir as recomendações, foram utilizados métodos probabilísticos e algorítimos como árvores de decisão aplicadas à série histórica recente de dados municipais. <br/>Com isso, busca-se maximizar a utilização de dados públicos disponíveis mas ainda subutilizados no campo das políticas de redução dos riscos inerentes ao trabalho. "
          - id: "select_cerest"
            type: "select"
            label: "CEREST Regional"
            default:
              base_object: "cerest"
              named_prop: "nm_cerest"
            api:
              fixed: "/indicadoresmunicipais?categorias=nm_cerest&agregacao=DISTINCT&filtros=eq-cd_indicador-'POP_DOU_01',and,eq-nu_competencia-nu_competencia_max"
            args:
              - prop: "id"
                named_prop: "nm_cerest"
              - prop: "label"
                named_prop: "nm_cerest"
            selection:
              event: "selection"
              rules:
                filter: ",and,eq-nm_cerest-'{0}'"
                api:
                  args:
                    - named_prop: "nm_cerest"
        component_type: "DATATABLE"
        api:
          - fixed: "/indicadoresmunicipais?categorias=sg_uf,nm_municipio,vl_indicador_txt,cd_indicador,cd_municipio_ibge-cd_mun_ibge,ds_fonte,nu_competencia,ds_indicador,'Foco de campanha'-calc_header_label&ordenacao=-nm_municipio&filtros=eq-cd_indicador-'77_77_77_03',and,eq-nu_competencia-nu_competencia_max"
          - fixed: "/sst/indicadoresmunicipais?categorias=sg_uf,nm_municipio,vl_indicador-vl_indicador_txt,cd_mun_ibge,'vl_indicador_cats'-calc_header_label&filtros=eq-cd_indicador-'sst_cat_total',and,eq-nu_competencia-nu_competencia_max,and,gt-vl_indicador-100"
        headers:
          - text: 'UF'
            align: 'center'
            value: 'sg_uf'
            item_align: 'center'
          - text: 'Município'
            align: 'center'
            value: 'nm_municipio'
            item_align: 'center'
        component_options:
          id: "datatable_sugetoes_ocupacoes"
          title: "Sugestões SmartLab de Temas para Campanhas de Prevenção - Agentes Causadores"
          cls: "xs12 md6 lg4 pa-3"
          hidden_cols: ["vl_indicador_cats"]
          check:
            label: "Apenas Municípios com mais de 100 acidentes em 2021"
            column: "vl_indicador_cats"
            checked: true
          pivot: 
            col_fields: ["sg_uf","nm_municipio","cd_mun_ibge"]
            layer_field: "calc_header_label"
            fmt_value_field: "vl_indicador_txt"
            value_field: "nm_municipio"
            order: "asc"
          search_position: "bottom"
        source:
          desc: "SmartLab IA, 2022"
# ========================================================

# ========================================================
      - id: "sparkline_sst_ufs"
        title:
          fixed: "Unidades Federativas Prioritárias - Notificações e Afastamentos"
        title_comment:
          fixed: "Brasil"
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs12'
                api:
                  fixed: "/sst/indicadoresestaduais?categorias=cd_indicador,vl_indicador,ds_fonte,nu_competencia,sg_uf&filtros=eq-cd_indicador-'sst_cat_total',and,eq-nu_competencia-nu_competencia_max&ordenacao=-vl_indicador&limit=1"
                args:
                  - prop: "value"
                    named_prop: 'sg_uf'
                    # format: 'inteiro'
                    # collapse:
                    #   format: 'real'
                  - prop: "description"
                    template: "UF COM MAIOR NÚMERO DE ACIDENTES<br/>{0} NOTIFICAÇÕES DE ACIDENTES DE TRABALHO (CAT)"
                    args:
                      - named_prop: "vl_indicador"
                        format: "inteiro"
                  - prop: 'comment'
                    template: "({0}, {1})"
                    args:
                      - named_prop: "ds_fonte"
                      - named_prop: "nu_competencia"
              - relevance: 'high'
                cls: 'xs12'
                api:
                  fixed: "/sst/indicadoresestaduais?categorias=cd_indicador,vl_indicador,ds_fonte,nu_competencia,sg_uf&filtros=eq-cd_indicador-'sst_bene_qtd_especie',and,eq-ds_agreg_primaria-'91',and,eq-nu_competencia-nu_competencia_max&ordenacao=-vl_indicador&limit=1"
                args:
                  - prop: "value"
                    named_prop: 'sg_uf'
                    # format: 'inteiro'
                    # collapse:
                    #   format: 'real'
                  - prop: "description"
                    template: "UF COM MAIOR NÚMERO DE CONCESSÕES DE BENEFÍCIO PREVIDENCIÁRIO<br/> {0} CONCESSÕES DE AUXÍLIO-DOENÇA POR ACIDENTE DO TRABALHO (B91)"
                    args:
                      - named_prop: "vl_indicador"
                        format: "inteiro"
                  - prop: 'comment'
                    template: "({0}, {1})"
                    args:
                      - named_prop: "ds_fonte"
                      - named_prop: "nu_competencia"
              - relevance: 'high'
                cls: 'xs12'
                api:
                  fixed: "/indicadoresestaduais?categorias=vl_indicador,cd_indicador,sg_uf,ds_fonte,nu_competencia&filtros=eq-cd_indicador-'06_05_10_00',and,eq-nu_competencia-nu_competencia_max&ordenacao=-vl_indicador&limit=1"
                args:
                  - prop: "value"
                    named_prop: 'sg_uf'
                    # format: 'inteiro'
                    # collapse:
                    #   format: 'real'
                  - prop: "description"
                    template: "UF COM MAIOR NÚMERO DE NOTIFICAÇÕES RELACIONADAS AO TRABALHO NO SINAN<br/>{0} NOTIFICAÇÕES"
                    args:
                      - named_prop: "vl_indicador"
                        format: "inteiro"
                  - prop: 'comment'
                    template: "({0}, {1})"
                    args:
                      - named_prop: "ds_fonte"
                      - named_prop: "nu_competencia"
          - type: "text"
            title: ""
            content:
              fixed: "Em destaque, as unidades federativas com o maior número de notificações no último ano registrado para comunicações de acidentes de trabalho, benefícios previdenciários e notificações no Sistema de Informação de Agravos de Notificação (SINAN). Na tabela ao lado, a evolução histórica para diferentes Unidades Federativas."
          # - id: "select_cerest"
          #   type: "select"
          #   label: "CEREST Regional"
          #   default:
          #     base_object: "cerest"
          #     named_prop: "nm_cerest"
          #   api:
          #     fixed: "/indicadoresmunicipais?categorias=nm_cerest&agregacao=DISTINCT&filtros=eq-cd_indicador-'POP_DOU_01',and,eq-nu_competencia-nu_competencia_max"
          #   args:
          #     - prop: "id"
          #       named_prop: "nm_cerest"
          #     - prop: "label"
          #       named_prop: "nm_cerest"
          #   selection:
          #     event: "selection"
          #     rules:
          #       filter: ",and,eq-nm_cerest-'{0}'"
          #       api:
          #         args:
          #           - named_prop: "nm_cerest"
          - id: "select_cerest"
            type: "select"
            label: "CEREST Regional"
            default:
              base_object: "cerest"
              named_prop: "nm_cerest"
            api:
              fixed: "/indicadoresmunicipais?categorias=nm_cerest&agregacao=DISTINCT&filtros=eq-cd_indicador-'POP_DOU_01',and,eq-nu_competencia-nu_competencia_max"
            args:
              - prop: "id"
                named_prop: "nm_cerest"
              - prop: "label"
                named_prop: "nm_cerest"
            selection:
              event: "selection"
              rules:
                filter: ",and,eq-nm_cerest-'{0}'"
                api:
                  args:
                    - named_prop: "nm_cerest"
        component_type: "SPARKLINES"
        api:
          - fixed: "/sst/cats?categorias=cd_uf,sg_uf,'cat'-cd_indicador,ano_cat-nu_competencia&agregacao=COUNT&filtros=nn-cd_uf"
          - fixed: "/sst/beneficios?categorias=cd_uf,sg_uf,'beneficio_91'-cd_indicador,ano_beneficio-nu_competencia&agregacao=COUNT&filtros=nn-cd_uf,and,eq-cd_especie_beneficio-91"
          - fixed: "/sst/beneficios?categorias=cd_uf,sg_uf,'beneficio_31'-cd_indicador,ano_beneficio-nu_competencia&agregacao=COUNT&filtros=nn-cd_uf,and,eq-cd_especie_beneficio-31"
          - fixed: "/indicadoresmunicipais?categorias=cd_uf,sg_uf,'sinan'-cd_indicador,nu_competencia&valor=vl_indicador&agregacao=sum&filtros=nn-vl_indicador,and,eq-cd_indicador-'06_05_10_00'"
            options:
              clone:
                - id: "agr_sum_vl_indicador"
                  new_column: "agr_count"
          # - fixed: "/sst/indicadoresestaduais?categorias=sg_uf,cd_uf,vl_indicador-vl_indicador_cats&filtros=eq-cd_indicador-'sst_cat_total',and,eq-nu_competencia-nu_competencia_max,and,gt-vl_indicador-100"
        headers:
          # - text: 'Município'
          #   align: 'center'
          #   value: 'nm_municipio'
          #   item_align: 'center'
          - text: 'UF'
            align: 'center'
            value: 'sg_uf'
            item_align: 'center'
          - text: 'Smartline CAT'
            align: 'center'
            width: '20%'
            value: 'last_value_cat'
            item_align: 'center'
            type: 'spark'
            series: 'cat'
            bgColor: '#F44336'
            stroke: 2
          - text: 'Variação CAT'
            align: 'center'
            value: 'fmt_last_rate_cat'
            item_align: 'center'
          - text: 'Smartline B91'
            align: 'center'
            width: '20%'
            value: 'last_value_beneficio_91'
            item_align: 'center'
            type: 'spark'
            series: 'beneficio_91'
            bgColor: '#03A9F4'
            stroke: 2
          - text: 'Variação B91'
            align: 'center'
            value: 'fmt_last_rate_beneficio_91'
            item_align: 'center'
          - text: 'Smartline B31'
            align: 'center'
            width: '20%'
            value: 'last_value_beneficio_31'
            item_align: 'center'
            type: 'spark'
            series: 'beneficio_31'
            bgColor: '#0D47A1'
            stroke: 2
          - text: 'Variação B31'
            align: 'center'
            value: 'fmt_last_rate_beneficio_31'
            item_align: 'center'
          - text: 'Smartline SINAN'
            align: 'center'
            width: '20%'
            value: 'last_value_sinan'
            item_align: 'center'
            type: 'spark'
            series: 'sinan'
            bgColor: '#c800c8'
            stroke: 2
          - text: 'Variação SINAN'
            align: 'center'
            value: 'fmt_last_rate_sinan'
            item_align: 'center'
          # - text: "CATs"
          #   align: 'center'
          #   value: 'vl_indicador_cats'
          #   item_align: 'center'
        component_options:
          id: "sparklines_freq_sst_municipios"
          title: "Unidades Federativas"
          cls: "xs12 md6 lg4 pa-3"
          id_field: "cd_uf"
          value_field: "agr_count"
          series_field: "cd_indicador"
          category_field: "nu_competencia"
          search_position: "bottom"
          # hidden_cols: ["vl_indicador_cats"]
          # check:
          #   label: "Apenas UF com mais de 100 acidentes em 2021"
          #   column: "vl_indicador_cats"
          #   checked: true
        source:
          desc: "INSS/CATWEB, INSS/BENEFÍCIOS e MS - SINAN"
# ========================================================


# ========================================================
      - id: "sparkline_sst_municipios"
        title:
          fixed: "Municípios prioritários"
        title_comment:
          fixed: "Brasil"
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs12'
                api:
                  fixed: "/sst/indicadoresnacionais?categorias=cd_indicador,vl_indicador,ds_fonte,nu_competencia&filtros=eq-cd_indicador-'sst_cat_total',and,eq-nu_competencia-nu_competencia_max"
                args:
                  - prop: "value"
                    named_prop: 'vl_indicador'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                  - prop: "description"
                    fixed: "NOTIFICAÇÕES DE ACIDENTES DE TRABALHO (CAT) - TOTAL DE ACIDENTES"
                  - prop: 'comment'
                    template: "({0}, {1})"
                    args:
                      - named_prop: "ds_fonte"
                      - named_prop: "nu_competencia"
              - relevance: 'high'
                cls: 'xs12'
                api:
                  fixed: "/sst/indicadoresnacionais?categorias=cd_indicador,vl_indicador,ds_fonte,nu_competencia&filtros=eq-cd_indicador-'sst_bene_qtd_especie',and,eq-ds_agreg_primaria-'91',and,eq-nu_competencia-nu_competencia_max"
                args:
                  - prop: "value"
                    named_prop: 'vl_indicador'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                  - prop: "description"
                    fixed: "CONCESSÕES DE BENEFÍCIO PREVIDENCIÁRIO - AUXÍLIO-DOENÇA POR ACIDENTE DO TRABALHO (B91)"
                  - prop: 'comment'
                    template: "({0}, {1})"
                    args:
                      - named_prop: "ds_fonte"
                      - named_prop: "nu_competencia"
              - relevance: 'high'
                cls: 'xs12'
                preloaded:
                  prop: "centralindicadores"
                  function: "slice"
                  id: "06_05_10_00"
                  year: "max"
                args:
                  - prop: "value"
                    named_prop: 'vl_indicador'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                  - prop: "description"
                    named_prop: "ds_indicador_radical"
                  - prop: 'comment'
                    template: "({0}, {1})"
                    args:
                      - named_prop: "ds_fonte"
                      - named_prop: "nu_competencia"
          - type: "text"
            title: ""
            content:
              fixed: "Em destaque, os números absolutos (totais) de notificações acidentárias e afastamentos registrados para o Brasil. Na tabela, a evolução histórica para diferentes localidades.<br/><br/>"
          - id: "select_cerest"
            type: "select"
            label: "CEREST Regional"
            default:
              base_object: "cerest"
              named_prop: "nm_cerest"
            api:
              fixed: "/indicadoresmunicipais?categorias=nm_cerest&agregacao=DISTINCT&filtros=eq-cd_indicador-'POP_DOU_01',and,eq-nu_competencia-nu_competencia_max"
            args:
              - prop: "id"
                named_prop: "nm_cerest"
              - prop: "label"
                named_prop: "nm_cerest"
            selection:
              event: "selection"
              rules:
                filter: ",and,eq-nm_cerest-'{0}'"
                api:
                  args:
                    - named_prop: "nm_cerest"
        component_type: "SPARKLINES"
        api:
          - fixed: "/sst/cats?categorias=cd_municipio_ibge,nm_municipio,sg_uf,'cat'-cd_indicador,ano_cat-nu_competencia&agregacao=COUNT&filtros=nn-cd_municipio_ibge"
          - fixed: "/sst/beneficios?categorias=cd_municipio_ibge,nm_municipio,sg_uf,'beneficio_91'-cd_indicador,ano_beneficio-nu_competencia&agregacao=COUNT&filtros=nn-cd_municipio_ibge,and,eq-cd_especie_beneficio-91"
          - fixed: "/sst/beneficios?categorias=cd_municipio_ibge,nm_municipio,sg_uf,'beneficio_31'-cd_indicador,ano_beneficio-nu_competencia&agregacao=COUNT&filtros=nn-cd_municipio_ibge,and,eq-cd_especie_beneficio-31"
          - fixed: "/indicadoresmunicipais?categorias=cd_municipio_ibge,nm_municipio,sg_uf,'sinan'-cd_indicador,nu_competencia&valor=vl_indicador&agregacao=sum&filtros=nn-vl_indicador,and,eq-cd_indicador-'06_05_10_00'"
            options:
              clone:
                - id: "agr_sum_vl_indicador"
                  new_column: "agr_count"
          - fixed: "/sst/indicadoresmunicipais?categorias=sg_uf,nm_municipio,vl_indicador-vl_indicador_cats,cd_mun_ibge-cd_municipio_ibge&filtros=eq-cd_indicador-'sst_cat_total',and,eq-nu_competencia-nu_competencia_max,and,gt-vl_indicador-100"
        headers:
          - text: 'Município'
            align: 'center'
            value: 'nm_municipio'
            item_align: 'center'
          - text: 'UF'
            align: 'center'
            value: 'sg_uf'
            item_align: 'center'
          - text: 'Smartline CAT'
            align: 'center'
            width: '20%'
            value: 'last_value_cat'
            item_align: 'center'
            type: 'spark'
            series: 'cat'
            bgColor: '#F44336'
            stroke: 2
          - text: 'Variação CAT'
            align: 'center'
            value: 'fmt_last_rate_cat'
            item_align: 'center'
          - text: 'Smartline B91'
            align: 'center'
            width: '20%'
            value: 'last_value_beneficio_91'
            item_align: 'center'
            type: 'spark'
            series: 'beneficio_91'
            bgColor: '#03A9F4'
            stroke: 2
          - text: 'Variação B91'
            align: 'center'
            value: 'fmt_last_rate_beneficio_91'
            item_align: 'center'
          - text: 'Smartline B31'
            align: 'center'
            width: '20%'
            value: 'last_value_beneficio_31'
            item_align: 'center'
            type: 'spark'
            series: 'beneficio_31'
            bgColor: '#0D47A1'
            stroke: 2
          - text: 'Variação B31'
            align: 'center'
            value: 'fmt_last_rate_beneficio_31'
            item_align: 'center'
          - text: 'Smartline SINAN'
            align: 'center'
            width: '20%'
            value: 'last_value_sinan'
            item_align: 'center'
            type: 'spark'
            series: 'sinan'
            bgColor: '#c800c8'
            stroke: 2
          - text: 'Variação SINAN'
            align: 'center'
            value: 'fmt_last_rate_sinan'
            item_align: 'center'
          - text: "CATs"
            align: 'center'
            value: 'vl_indicador_cats'
            item_align: 'center'
        component_options:
          id: "sparklines_freq_sst_municipios"
          title: "Municípios"
          cls: "xs12 md6 lg4 pa-3"
          id_field: "cd_municipio_ibge"
          value_field: "agr_count"
          series_field: "cd_indicador"
          category_field: "nu_competencia"
          search_position: "bottom"
          hidden_cols: ["vl_indicador_cats"]
          check:
            label: "Apenas Municípios com mais de 100 acidentes em 2021"
            column: "vl_indicador_cats"
            checked: true
        source:
          desc: "INSS/CATWEB, INSS/BENEFÍCIOS e MS - SINAN"
# ========================================================
      - id: "sparkline_sst_cnae"
        title:
          fixed: "Setores Econômicos prioritários"
        title_comment:
          fixed: "Brasil"
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs12'
                api:
                  fixed: "/sst/cats?categorias=ds_cnae_classe_cat&agregacao=COUNT&filtros=ne-ds_cnae_classe_cat-'Indefinido',and,ne-ds_cnae_classe_cat-''&ordenacao=-agr_count&limit=1"
                args:
                  - prop: "value"
                    named_prop: 'ds_cnae_classe_cat'
                    default: "Sem Registros"
                    zero: "Nenhum"
                  - prop: "description"
                    template: 'Setor EconÔmico com mais acidentes de trabalho<br/>({0} a {1})'
                    args:
                      - base_object: 'sst_cat'
                        named_prop: 'agr_min_ano_cat'
                      - base_object: 'sst_cat'
                        named_prop: 'agr_max_ano_cat'
                  - prop: "comment"
                    template: 'Total de Acidentes: {0}'
                    args:
                      - named_prop: "agr_count"
                        format: "inteiro"
              - relevance: 'high'
                cls: 'xs12'
                api:
                  fixed: "/sst/beneficios?categorias=ds_cnae_classe&agregacao=COUNT&filtros=eq-cd_especie_beneficio-91,and,ne-ds_cnae_classe-''&ordenacao=-agr_count&limit=1"
                args:
                  - prop: "value"
                    named_prop: 'ds_cnae_classe'
                    default: "Sem Registros"
                    zero: "Nenhum"
                  - prop: "description"
                    template: 'Setor Econômico com mais afastamentos B91<br/>({0} a {1})'
                    args:
                      - base_object: 'sst_beneficio'
                        named_prop: 'agr_min_ano_beneficio'
                      - base_object: 'sst_beneficio'
                        named_prop: 'agr_max_ano_beneficio'
                  - prop: "comment"
                    template: 'Total de Concessões B91: {0}'
                    args:
                      - named_prop: "agr_count"
                        format: "inteiro"
              - relevance: 'high'
                cls: 'xs12'
                api:
                  fixed: "/sst/beneficios?categorias=ds_cnae_classe&agregacao=COUNT&filtros=eq-cd_especie_beneficio-31,and,ne-ds_cnae_classe-''&ordenacao=-agr_count&limit=1"
                args:
                  - prop: "value"
                    named_prop: 'ds_cnae_classe'
                    default: "Sem Registros"
                    zero: "Nenhum"
                  - prop: "description"
                    template: 'Setor Econômico com mais afastamentos B31<br/>({0} a {1})'
                    args:
                      - base_object: 'sst_beneficio'
                        named_prop: 'agr_min_ano_beneficio'
                      - base_object: 'sst_beneficio'
                        named_prop: 'agr_max_ano_beneficio'
                  - prop: "comment"
                    template: 'Total de Concessões B31: {0}'
                    args:
                      - named_prop: "agr_count"
                        format: "inteiro"
          - type: "text"
            title: ""
            content:
              fixed: "Em destaque, os setores com o maiores números absolutos (totais) de notificações acidentárias e afastamentos registrados para o Brasil. Na tabela, a evolução histórica desses números para diferentes setores econômicos. Utilize os filtros para selecionar os números referentes a circunscrições de Centros de Referência em Saúde do Trabalhador (Cerest) regionais.<br/><br/>"
          - id: "select_cerest"
            type: "select"
            label: "CEREST Regional"
            default:
              base_object: "cerest"
              named_prop: "nm_cerest"
            api:
              fixed: "/indicadoresmunicipais?categorias=nm_cerest&agregacao=DISTINCT&filtros=eq-cd_indicador-'POP_DOU_01',and,eq-nu_competencia-nu_competencia_max"
            args:
              - prop: "id"
                named_prop: "nm_cerest"
              - prop: "label"
                named_prop: "nm_cerest"
            selection:
              event: "selection"
              rules:
                filter: ",and,eq-nm_cerest-'{0}'"
                api:
                  args:
                    - named_prop: "nm_cerest"
        component_type: "SPARKLINES"
        api:
          - fixed: "/sst/cats?categorias=ds_cnae_classe_cat-cnae,'cat'-cd_indicador,ano_cat-nu_competencia&agregacao=COUNT&filtros=nn-cd_municipio_ibge,and,ne-ds_cnae_classe_cat-'Indefinido',and,ne-ds_cnae_classe_cat-''"
          - fixed: "/sst/beneficios?categorias=ds_cnae_classe-cnae,'beneficio_91'-cd_indicador,ano_beneficio-nu_competencia&agregacao=COUNT&filtros=nn-cd_municipio_ibge,and,eq-cd_especie_beneficio-91,and,ne-ds_cnae_classe-''"
          - fixed: "/sst/beneficios?categorias=ds_cnae_classe-cnae,'beneficio_31'-cd_indicador,ano_beneficio-nu_competencia&agregacao=COUNT&filtros=nn-cd_municipio_ibge,and,eq-cd_especie_beneficio-31,and,ne-ds_cnae_classe-''"
        headers:
          - text: 'Setor Econômico'
            align: 'center'
            value: 'cnae'
            item_align: 'center'
          - text: 'Smartline CAT'
            align: 'center'
            width: '25%'
            value: 'last_value_cat'
            item_align: 'center'
            type: 'spark'
            series: 'cat'
            bgColor: '#F44336'
            stroke: 2
          - text: 'Variação CAT'
            align: 'center'
            value: 'fmt_last_rate_cat'
            item_align: 'center'
          - text: 'Smartline B91'
            align: 'center'
            width: '25%'
            value: 'last_value_beneficio_91'
            item_align: 'center'
            type: 'spark'
            series: 'beneficio_91'
            bgColor: '#03A9F4'
            stroke: 2
          - text: 'Variação B91'
            align: 'center'
            value: 'fmt_last_rate_beneficio_91'
            item_align: 'center'
          - text: 'Smartline B31'
            align: 'center'
            width: '25%'
            value: 'last_value_beneficio_31'
            item_align: 'center'
            type: 'spark'
            series: 'beneficio_31'
            bgColor: '#0D47A1'
            stroke: 2
          - text: 'Variação B31'
            align: 'center'
            value: 'fmt_last_rate_beneficio_31'
            item_align: 'center'
        component_options:
          id: "sparklines_freq_sst_cnae"
          title: "Setores Econômicos"
          cls: "xs12 md6 lg4 pa-3"
          id_field: "cnae"
          value_field: "agr_count"
          series_field: "cd_indicador"
          category_field: "nu_competencia"
          search_position: "bottom"
        source:
          desc: "INSS/CATWEB e INSS/BENEFÍCIOS"
# ========================================================
      - id: "sparkline_sst_cbo"
        title:
          fixed: "Ocupações prioritárias"
        title_comment:
          fixed: "Brasil"
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs12'
                api:
                  fixed: "/sst/cats?categorias=ds_cbo&agregacao=COUNT&filtros=ne-ds_cbo-''&ordenacao=-agr_count&limit=1"
                args:
                  - prop: "value"
                    named_prop: 'ds_cbo'
                    default: "Sem Registros"
                    zero: "Nenhum"
                  - prop: "description"
                    template: 'Ocupação com mais acidentes de trabalho<br/>({0} a {1})'
                    args:
                      - base_object: 'sst_cat'
                        named_prop: 'agr_min_ano_cat'
                      - base_object: 'sst_cat'
                        named_prop: 'agr_max_ano_cat'
                  - prop: "comment"
                    template: 'Total de Acidentes: {0}'
                    args:
                      - named_prop: "agr_count"
                        format: "inteiro"
              - relevance: 'high'
                cls: 'xs12'
                api:
                  fixed: "/sst/beneficios?categorias=ds_cbo2002&agregacao=COUNT&filtros=eq-cd_especie_beneficio-91,and,ne-ds_cbo2002-''&ordenacao=-agr_count&limit=1"
                args:
                  - prop: "value"
                    named_prop: 'ds_cbo2002'
                    default: "Sem Registros"
                    zero: "Nenhum"
                  - prop: "description"
                    template: 'Ocupação com mais afastamentos B91<br/>({0} a {1})'
                    args:
                      - base_object: 'sst_beneficio'
                        named_prop: 'agr_min_ano_beneficio'
                      - base_object: 'sst_beneficio'
                        named_prop: 'agr_max_ano_beneficio'
                  - prop: "comment"
                    template: 'Total de Concessões B91: {0}'
                    args:
                      - named_prop: "agr_count"
                        format: "inteiro"
              - relevance: 'high'
                cls: 'xs12'
                api:
                  fixed: "/sst/beneficios?categorias=ds_cbo2002&agregacao=COUNT&filtros=eq-cd_especie_beneficio-31,and,ne-ds_cbo2002-''&ordenacao=-agr_count&limit=1"
                args:
                  - prop: "value"
                    named_prop: 'ds_cbo2002'
                    default: "Sem Registros"
                    zero: "Nenhum"
                  - prop: "description"
                    template: 'Ocupação com mais afastamentos B31<br/>({0} a {1})'
                    args:
                      - base_object: 'sst_beneficio'
                        named_prop: 'agr_min_ano_beneficio'
                      - base_object: 'sst_beneficio'
                        named_prop: 'agr_max_ano_beneficio'
                  - prop: "comment"
                    template: 'Total de Concessões B31: {0}'
                    args:
                      - named_prop: "agr_count"
                        format: "inteiro"
          - type: "text"
            title: ""
            content:
              fixed: "Em destaque, as ocupações com os maiores números absolutos (totais) de notificações acidentárias e afastamentos registrados para o Brasil. Na tabela, a evolução histórica desses números para diferentes ocupações. Utilize os filtros para selecionar os números referentes a circunscrições de Centros de Referência em Saúde do Trabalhador (Cerest) regionais.<br/><br/>"
          - id: "select_cerest"
            type: "select"
            label: "CEREST Regional"
            default:
              base_object: "cerest"
              named_prop: "nm_cerest"
            api:
              fixed: "/indicadoresmunicipais?categorias=nm_cerest&agregacao=DISTINCT&filtros=eq-cd_indicador-'POP_DOU_01',and,eq-nu_competencia-nu_competencia_max"
            args:
              - prop: "id"
                named_prop: "nm_cerest"
              - prop: "label"
                named_prop: "nm_cerest"
            selection:
              event: "selection"
              rules:
                filter: ",and,eq-nm_cerest-'{0}'"
                api:
                  args:
                    - named_prop: "nm_cerest"
        component_type: "SPARKLINES"
        api:
          - fixed: "/sst/cats?categorias=ds_cbo-cbo,'cat'-cd_indicador,ano_cat-nu_competencia&agregacao=COUNT&filtros=nn-cd_municipio_ibge,and,ne-ds_cbo-''"
          - fixed: "/sst/beneficios?categorias=ds_cbo2002-cbo,'beneficio_91'-cd_indicador,ano_beneficio-nu_competencia&agregacao=COUNT&filtros=nn-cd_municipio_ibge,and,eq-cd_especie_beneficio-91,and,ne-ds_cbo2002-''"
          - fixed: "/sst/beneficios?categorias=ds_cbo2002-cbo,'beneficio_31'-cd_indicador,ano_beneficio-nu_competencia&agregacao=COUNT&filtros=nn-cd_municipio_ibge,and,eq-cd_especie_beneficio-31,and,ne-ds_cbo2002-''"
        headers:
          - text: 'Ocupações'
            align: 'center'
            value: 'cbo'
            item_align: 'center'
          - text: 'Smartline CAT'
            align: 'center'
            width: '25%'
            value: 'last_value_cat'
            item_align: 'center'
            type: 'spark'
            series: 'cat'
            bgColor: '#F44336'
            stroke: 2
          - text: 'Variação CAT'
            align: 'center'
            value: 'fmt_last_rate_cat'
            item_align: 'center'
          - text: 'Smartline B91'
            align: 'center'
            width: '25%'
            value: 'last_value_beneficio_91'
            item_align: 'center'
            type: 'spark'
            series: 'beneficio_91'
            bgColor: '#03A9F4'
            stroke: 2
          - text: 'Variação B91'
            align: 'center'
            value: 'fmt_last_rate_beneficio_91'
            item_align: 'center'
          - text: 'Smartline B31'
            align: 'center'
            width: '25%'
            value: 'last_value_beneficio_31'
            item_align: 'center'
            type: 'spark'
            series: 'beneficio_31'
            bgColor: '#0D47A1'
            stroke: 2
          - text: 'Variação B31'
            align: 'center'
            value: 'fmt_last_rate_beneficio_31'
            item_align: 'center'
        component_options:
          id: "sparklines_freq_sst_cnae"
          title: "Ocupações"
          cls: "xs12 md6 lg4 pa-3"
          id_field: "cbo"
          value_field: "agr_count"
          series_field: "cd_indicador"
          category_field: "nu_competencia"
          search_position: "bottom"
        source:
          desc: "INSS/CATWEB e INSS/BENEFÍCIOS"
# ========================================================
      - id: "sparkline_sst_incidencia"
        title:
          fixed: "Municípios prioritários quanto a Incidência de Notificações de Acidentes de Trabalho e Afastamentos B91"
        title_comment:
          template: "{0}"
          args:
            - base_object: "localidade"
              named_prop: "nm_localidade"
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs12'
                api:
                  fixed: "/sst/indicadoresmunicipais?categorias=nm_municipio,sg_uf,vl_indicador,nu_competencia&ordenacao=rank_br&limit=1&filtros=eq-cd_indicador-'sst_cat_incidencia',and,eq-nu_competencia-nu_competencia_max"
                args:
                  - prop: "value"
                    template: '{0}, {1}'
                    args:
                      - named_prop: 'nm_municipio'
                      - named_prop: 'sg_uf'
                    default: "Sem Registros"
                    zero: "Nenhum"
                  - prop: "description"
                    template: 'Município com maior incidência de Notificações de Acidentes de Trabalho<br/>({0})'
                    args:
                      - named_prop: 'nu_competencia'
                  - prop: "comment"
                    template: 'Incidência de Acidentes: {0} casos a cada 10.000 trabalhadores'
                    args:
                      - named_prop: "vl_indicador"
                        format: 'inteiro'
                        multiplier: 10000
                        collapse:
                          format: 'real'
              - relevance: 'high'
                cls: 'xs12'
                api:
                  fixed: "/sst/indicadoresmunicipais?categorias=nm_municipio,sg_uf,vl_indicador,nu_competencia&ordenacao=rank_br&limit=1&filtros=eq-cd_indicador-'sst_bene_incidencia_91',and,eq-nu_competencia-nu_competencia_max"
                args:
                  - prop: "value"
                    template: '{0}, {1}'
                    args:
                      - named_prop: 'nm_municipio'
                      - named_prop: 'sg_uf'
                    default: "Sem Registros"
                    zero: "Nenhum"
                  - prop: "description"
                    template: 'Município com maior incidência de Afastamentos B91<br/>({0})'
                    args:
                      - named_prop: 'nu_competencia'
                  - prop: "comment"
                    template: 'Incidência de Afastamentos B91: {0} concessões a cada 10.000 trabalhadores'
                    args:
                      - named_prop: "vl_indicador"
                        format: 'inteiro'
                        multiplier: 10000
                        collapse:
                          format: 'real'
          - type: "text"
            title: ""
            content:
              fixed: "Em destaque, os municípios com as maiores incidências de notificações de acidentes de trabalho e afastamentos Auxílio-doença por acidente do trabalho (B91) em número de casos/concessões a cada 10 mil trabalhadores com carteira assinada para Brasil. Não estão incluídos servidores públicos de regime estatutário ou trabalhadores informais. Na tabela a seguir, apresentam-se as incidências por município. Utilize os filtros para selecionar os números referentes a circunscrições de Centros de Referência em Saúde do Trabalhador (Cerest) regionais.<br/><br/>
                     Foram considerados para geração do indicador os municípios com no mínimo 100 ocorrências notificadas no ano.<br/><br/>"
          - id: "select_cerest"
            type: "select"
            label: "CEREST Regional"
            default:
              base_object: "cerest"
              named_prop: "nm_cerest"
            api:
              template: "/indicadoresmunicipais?categorias=nm_cerest&agregacao=DISTINCT&filtros=eq-cd_indicador-'POP_DOU_01',and,eq-nu_competencia-nu_competencia_max&ordenacao=nm_cerest"
            args:
              - prop: "id"
                named_prop: "nm_cerest"
              - prop: "label"
                named_prop: "nm_cerest"
            selection:
              event: "selection"
              rules:
                filter: ",and,eq-nm_cerest-'{0}'"
                api:
                  args:
                    - named_prop: "nm_cerest"
        component_type: "SPARKLINES"
        api:
          - template: "/sst/indicadoresmunicipais?categorias=cd_mun_ibge,nm_municipio,sg_uf,cd_indicador,nu_competencia,vl_indicador&ordenacao=-cd_indicador&filtros=nn-vl_indicador,and,in-cd_indicador-'sst_cat_incidencia'-'sst_bene_incidencia_91'"
            options:
              calcs:
                - id: "incidencia"
                  function: "calc_multiplication_ds"
                  fn_args:
                    - named_prop: "vl_indicador"
                    - fixed: 10000
          # - fixed: "/sst/indicadoresmunicipais?categorias=sg_uf,nm_municipio,vl_indicador-vl_indicador_cats,cd_mun_ibge&filtros=eq-cd_indicador-'sst_cat_total',and,eq-nu_competencia-nu_competencia_max,and,gt-vl_indicador-100"
        headers:
          - text: 'Município'
            align: 'center'
            value: 'nm_municipio'
            item_align: 'center'
          - text: 'UF'
            align: 'center'
            value: 'sg_uf'
            item_align: 'center'
          - text: 'Smartline Incidência CAT'
            align: 'center'
            width: '25%'
            value: 'last_value_sst_cat_incidencia'
            item_align: 'center'
            type: 'spark'
            series: 'sst_cat_incidencia'
            bgColor: '#F44336'
            stroke: 2
            format: 'inteiro'
          - text: 'Variação CAT'
            align: 'center'
            value: 'fmt_last_rate_sst_cat_incidencia'
            item_align: 'center'
          - text: 'Smartline Incidência B91'
            align: 'center'
            width: '25%'
            value: 'last_value_sst_bene_incidencia_91'
            item_align: 'center'
            type: 'spark'
            series: 'sst_bene_incidencia_91'
            bgColor: '#03A9F4'
            stroke: 2
            format: 'inteiro'
          - text: 'Variação B91'
            align: 'center'
            value: 'fmt_last_rate_sst_bene_incidencia_91'
            item_align: 'center'
        component_options:
          id: "sparklines_incidencia_sst"
          title: "Incidências de casos/concessões por 10mil trabalhadores"
          cls: "xs12 md6 lg4 pa-3"
          id_field: "cd_mun_ibge"
          value_field: "calc_incidencia"
          series_field: "cd_indicador"
          category_field: "nu_competencia"
          search_position: "bottom"
          # hidden_cols: ["vl_indicador_cats"]
          # check:
          #   label: "Apenas Municípios com mais de 100 acidentes em 2021"
          #   column: "vl_indicador_cats"
          #   checked: true
        source:
          desc: "INSS e RAIS (vínculos CLT)"
# ========================================================
      - id: "sparkline_cat_cid"
        title: 
          fixed: "Notificações de Acidente de Trabalho por Capítulo CID"
        title_comment:
          template: "Brasil, de {0} a {1}"
          args:
            - base_object: "sst_cat"
              named_prop: "agr_min_ano_cat"
            - base_object: "sst_cat"
              named_prop: "agr_max_ano_cat"
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs12'
                api: 
                  fixed: "/sst/cats?categorias=ds_cap_ci&agregacao=COUNT&filtros=nn-cd_municipio_ibge,and,ne-ds_cap_ci-'Indefinido',and,ne-ds_cap_ci-''&ordenacao=-agr_count&limit=1"
                args:
                  - prop: "value"
                    named_prop: 'ds_cap_ci'
                    default: "Sem Registros"
                    zero: "Nenhum"
                  - prop: "description"
                    fixed: 'Capítulo CID com mais acidentes notificados'
                  - prop: "comment"
                    template: 'Total de Acidentes: {0}'
                    args:
                      - named_prop: "agr_count"
                        format: "inteiro"
          - type: "text"
            title: ""
            content:
              fixed: "Em destaque, o capítulo CID com mais notificações de acidentes de trabalho (CAT) na série histórica para a unidade federativa do município selecionado. Na tabela, apresenta-se, para o período selecionado, a série histórica dos registros de acordo com os capítulos da Classificação Internacional de Doenças (CID-10).<br/><br/>"
          - id: "slider_ano"
            type: "slider"
            range: true
            api: 
              fixed: "/sst/indicadoresnacionais?categorias=1&valor=nu_competencia&agregacao=min,max&filtros=eq-cd_indicador-'sst_cat_total'"
            args:
              - prop: "min"
                named_prop: "agr_min_nu_competencia"
              - prop: "max"
                named_prop: "agr_max_nu_competencia"
            selection:
              event: "selection"
              rules:
                filter: ",and,ge-ano_cat-{0},and,le-ano_cat-{1}"
                api:
                  args:
                    - named_prop: "value_min"
                    - named_prop: "value_max"
          - id: "select_cerest"
            type: "select"
            label: "CEREST Regional"
            default:
              base_object: "cerest"
              named_prop: "nm_cerest"
            api:
              fixed: "/indicadoresmunicipais?categorias=nm_cerest&agregacao=DISTINCT&filtros=eq-cd_indicador-'POP_DOU_01',and,eq-nu_competencia-nu_competencia_max"
            args:
              - prop: "id"
                named_prop: "nm_cerest"
              - prop: "label"
                named_prop: "nm_cerest"
            selection:
              event: "selection"
              rules:
                filter: ",and,eq-nm_cerest-'{0}'"
                api:
                  args:
                    - named_prop: "nm_cerest"
        component_type: "SPARKLINES"
        api:
          fixed: "/sst/cats?categorias=ds_cap_ci-cap_cid,'cat'-cd_indicador,ano_cat-nu_competencia&agregacao=COUNT&filtros=nn-cd_municipio_ibge,and,ne-ds_cap_ci-'Indefinido',and,ne-ds_cap_ci-''"
        headers:
          - text: 'Capítulo CID'
            align: 'center'
            value: 'cap_cid'
            item_align: 'center'
          - text: 'Total'
            align: 'center'
            value: 'total_cat'
            item_align: 'center'
            format: 'inteiro'
          - text: 'Smartline'
            align: 'center'
            width: '26%'
            value: 'last_value_cat'
            item_align: 'center'
            type: 'spark'
            series: 'cat'
            bgColor: '#F44336'
            stroke: 2
            item_align: 'center'
          - text: 'Ano de Pico'
            align: 'center'
            value: 'fmt_higher_value_cat'
            item_align: 'center'
          # - text: 'Número de Anos de Incidência'
          #   align: 'center'
          #   width: '10%'
          #   value: 'series_length_cat'
          #   item_align: 'center'
          # - text: 'Número de Anos de Incidência'
          #   align: 'center'
          #   width: '10%'
          #   value: 'series_length_last_5_cat'
          #   item_align: 'center'
          - text: 'Ano'
            align: 'center'
            value: 'last_2_value_cat'
            item_align: 'center'
            format: "inteiro"
          - text: 'Ano'
            align: 'center'
            value: 'last_value_cat'
            item_align: 'center'
            format: "inteiro"
          - text: 'Variação'
            align: 'center'
            value: 'fmt_last_rate_cat'
            item_align: 'center'
        component_options:
          id: "sparklines_cnae_freq_rgt"
          title: "Notificações de Acidentes de Trabalho por Capítulo CID"
          cls: "xs12 md6 lg4 pa-3"
          id_field: "cap_cid"
          value_field: "agr_count"
          series_field: "cd_indicador"
          category_field: "nu_competencia"
          search_position: "bottom"
        source:
          desc: "INSS/CATWEB"
# ========================================================
      - id: "sparkline_beneficio_agravo"
        title: 
          fixed: "Afastamentos Acidentários e Não Acidentários por Grupos de Agravos"
        title_comment:
          template: "Brasil, de {0} a {1}"
          args:
            - base_object: "sst_beneficio"
              named_prop: "agr_min_ano_beneficio"
            - base_object: "sst_beneficio"
              named_prop: "agr_max_ano_beneficio"
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs12'
                api: 
                  template: "/sst/beneficios?categorias=cd_agrupamento_categoria_cid&agregacao=COUNT&filtros=nn-cd_municipio_ibge,and,ne-cd_agrupamento_categoria_cid-'Indefinido',and,ne-cd_agrupamento_categoria_cid-'',and,eq-cd_especie_beneficio-91&ordenacao=-agr_count&limit=1"
                  args:
                    - named_prop: "cd_uf"
                args:
                  - prop: "value"
                    named_prop: 'cd_agrupamento_categoria_cid'
                    default: "Sem Registros"
                    zero: "Nenhum"
                  - prop: "description"
                    fixed: 'Grupo de Agravo com mais Afastamentos B91'
                  - prop: "comment"
                    template: 'Total de Afastamentos B91: {0}'
                    args:
                      - named_prop: "agr_count"
                        format: "inteiro"
              - relevance: 'high'
                cls: 'xs12'
                api: 
                  template: "/sst/beneficios?categorias=cd_agrupamento_categoria_cid&agregacao=COUNT&filtros=nn-cd_municipio_ibge,and,ne-cd_agrupamento_categoria_cid-'Indefinido',and,ne-cd_agrupamento_categoria_cid-'',and,eq-cd_especie_beneficio-31&ordenacao=-agr_count&limit=1"
                  args:
                    - named_prop: "cd_uf"
                args:
                  - prop: "value"
                    named_prop: 'cd_agrupamento_categoria_cid'
                    default: "Sem Registros"
                    zero: "Nenhum"
                  - prop: "description"
                    fixed: 'Grupo de Agravo com mais Afastamentos B31'
                  - prop: "comment"
                    template: 'Total de Afastamentos B31: {0}'
                    args:
                      - named_prop: "agr_count"
                        format: "inteiro"
          - type: "text"
            title: ""
            content:
              fixed: "Em destaque, os grupos de agravos com mais afastamentos acidentários(B91) e não acidentários(B31). Na tabela, mostra-se nos gráficos a evolução de casos de afastamentos acidentários e não acidentários de acordo com o tipo de ocorrência, apresentada mediante simplificação textual da Classificação Internacional de Doenças, quer para facilitar a compreensão, quer para destacar algumas ocorrências de maior gravidade. Acrescenta-se, ainda, a informação a respeito da variação percentual nos últimos dois anos considerados. Utilize o filtro dos anos para modificar o período de interesse.<br/><br/>"
          - id: "slider_ano"
            type: "slider"
            range: true
            api: 
              fixed: "/sst/beneficios?categorias=1&valor=ano_beneficio&agregacao=MIN,MAX"
            args:
              - prop: "min"
                named_prop: "agr_min_ano_beneficio"
              - prop: "max"
                named_prop: "agr_max_ano_beneficio"
            selection:
              event: "selection"
              rules:
                filter: ",and,ge-ano_beneficio-{0},and,le-ano_beneficio-{1}"
                api:
                  args:
                    - named_prop: "value_min"
                    - named_prop: "value_max"
          - id: "select_cerest"
            type: "select"
            label: "CEREST Regional"
            default:
              base_object: "cerest"
              named_prop: "nm_cerest"
            api:
              fixed: "/indicadoresmunicipais?categorias=nm_cerest&agregacao=DISTINCT&filtros=eq-cd_indicador-'POP_DOU_01',and,eq-nu_competencia-nu_competencia_max"
            args:
              - prop: "id"
                named_prop: "nm_cerest"
              - prop: "label"
                named_prop: "nm_cerest"
            selection:
              event: "selection"
              rules:
                filter: ",and,eq-nm_cerest-'{0}'"
                api:
                  args:
                    - named_prop: "nm_cerest"
        component_type: "SPARKLINES"
        api:
          fixed: "/sst/beneficios?categorias=cd_agrupamento_categoria_cid,cd_especie_beneficio-cd_indicador,ano_beneficio-nu_competencia&agregacao=COUNT&filtros=nn-cd_municipio_ibge,and,ne-cd_agrupamento_categoria_cid-'Indefinido',and,ne-cd_agrupamento_categoria_cid-'',and,in-cd_especie_beneficio-31-91"
        headers:
          - text: 'Tipo de Agravo'
            align: 'center'
            value: 'cd_agrupamento_categoria_cid'
            item_align: 'center'
          - text: 'Smartline B91'
            align: 'center'
            width: '26%'
            value: 'last_value_91'
            item_align: 'center'
            type: 'spark'
            series: '91'
            bgColor: '#03A9F4'
            stroke: 2
            item_align: 'center'
          - text: 'Total B91'
            align: 'center'
            value: 'total_91'
            item_align: 'center'
            format: 'inteiro'
          # - text: 'Ano de Pico'
          #   align: 'center'
          #   value: 'fmt_higher_value_91'
          #   item_align: 'center'
          # - text: 'Número de Anos de Incidência'
          #   align: 'center'
          #   width: '10%'
          #   value: 'series_length_91'
          #   item_align: 'center'
          # - text: 'Número de Anos de Incidência'
          #   align: 'center'
          #   width: '10%'
          #   value: 'series_length_last_5_91'
          #   item_align: 'center'
          # - text: 'Ano'
          #   align: 'center'
          #   value: 'last_2_value_91'
          #   item_align: 'center'
          #   format: "inteiro"
          # - text: 'Ano'
          #   align: 'center'
          #   value: 'last_value_91'
          #   item_align: 'center'
          #   format: "inteiro"
          - text: 'Variação B91'
            align: 'center'
            value: 'fmt_last_rate_91'
            item_align: 'center'
          - text: 'Smartline B31'
            align: 'center'
            width: '26%'
            value: 'last_value_31'
            item_align: 'center'
            type: 'spark'
            series: '31'
            bgColor: '#0D47A1'
            stroke: 2
            item_align: 'center'
          - text: 'Total B31'
            align: 'center'
            value: 'total_31'
            item_align: 'center'
            format: 'inteiro'
          # - text: 'Ano de Pico'
          #   align: 'center'
          #   value: 'fmt_higher_value_91'
          #   item_align: 'center'
          # - text: 'Número de Anos de Incidência'
          #   align: 'center'
          #   width: '10%'
          #   value: 'series_length_91'
          #   item_align: 'center'
          # - text: 'Número de Anos de Incidência'
          #   align: 'center'
          #   width: '10%'
          #   value: 'series_length_last_5_91'
          #   item_align: 'center'
          # - text: 'Ano'
          #   align: 'center'
          #   value: 'last_2_value_91'
          #   item_align: 'center'
          #   format: "inteiro"
          # - text: 'Ano'
          #   align: 'center'
          #   value: 'last_value_91'
          #   item_align: 'center'
          #   format: "inteiro"
          - text: 'Variação B31'
            align: 'center'
            value: 'fmt_last_rate_31'
            item_align: 'center'
        component_options:
          id: "sparklines_beneficio_agravo"
          title: "Afastamento por Grupos de Agravos"
          cls: "xs12 md6 lg4 pa-3"
          id_field: "cd_agrupamento_categoria_cid"
          value_field: "agr_count"
          series_field: "cd_indicador"
          category_field: "nu_competencia"
          search_position: "bottom"
        source:
          desc: "INSS/BENEFÍCIOS"
