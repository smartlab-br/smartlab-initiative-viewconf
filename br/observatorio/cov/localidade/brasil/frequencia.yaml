principais:
  - relevance: 'lead' 
    cls: 'xs12 xl6'
    rowClass: "pt-0 px-3 pb-5"
    api: 
      fixed: "/thematic/casoscovid19?categorias=1&valor=last_available_date,last_available_confirmed&agregacao=MAX,SUM&filtros=eq-place_type-'state',and,eq-is_last-TRUE"
    args:
      - prop: "value"
        named_prop: 'agr_sum_last_available_confirmed'
        format: 'inteiro'
        default: 'Nenhum'
        zero: 'Nenhum'
      - prop: "description"
        fixed: "Casos Confirmados"
      - prop: 'comment'
        named_prop: 'agr_max_last_available_date'
        format: 'dataDMY'
  - relevance: 'lead' 
    cls: 'xs12 xl6'
    rowClass: "pt-0 px-3 pb-5"
    api: 
      fixed: "/thematic/casoscovid19?categorias=1&valor=last_available_date,last_available_deaths&agregacao=MAX,SUM&filtros=eq-place_type-'state',and,eq-is_last-TRUE"
    args:
      - prop: "value"
        named_prop: 'agr_sum_last_available_deaths'
        format: 'inteiro'
        default: 'Nenhum'
        zero: 'Nenhum'
      - prop: "description"
        fixed: "Óbitos Confirmados"
      - prop: 'comment'
        named_prop: 'agr_max_last_available_date'
        format: 'dataDMY'
  - relevance: "lead"
    cls: 'xs12 xl6'
    rowClass: "pt-0 px-3 pb-5"
    api: 
      fixed: "/thematic/casoscovid19?categorias=1&valor=cd_municipio_ibge_dv,last_available_date,estimated_population_2019&agregacao=COUNT,MAX,SUM&filtros=eq-place_type-'city',and,eq-is_last-TRUE"
    args:
      - prop: "value"
        named_prop: "agr_count_cd_municipio_ibge_dv"
        format: 'inteiro'
      - prop: "description"
        fixed: "Municípios atingidos"
      - prop: 'comment'
        template: "{0}% de um total de 5.570 municípios <br/>
                   {1}% da população brasileira"
        args:
          - function: 'calc_percentage'
            format: 'inteiro'
            fn_args:
              - named_prop: "agr_count_cd_municipio_ibge_dv"
              - fixed: 5570
          - function: 'calc_percentage'
            format: 'inteiro'
            fn_args:
              - named_prop: "agr_sum_estimated_population_2019"
              - fixed: 210147125
  - relevance: "lead"
    cls: 'xs12 xl6'
    rowClass: "pt-0 px-3 pb-5"
    api: 
      fixed: "/thematic/casoscovid19?categorias=1&valor=cd_municipio_ibge_dv,last_available_date,estimated_population_2019&agregacao=COUNT,MAX,SUM&filtros=eq-place_type-'city',and,eq-is_last-TRUE,and,ne-last_available_deaths-0"
    args:
      - prop: "value"
        named_prop: "agr_count_cd_municipio_ibge_dv"
        format: 'inteiro'
      - prop: "description"
        fixed: "Municípios com óbitos"
      - prop: 'comment'
        template: "{0}% de um total de 5.570 municípios <br/>
                   {1}% da população brasileira"
        args:
          - function: 'calc_percentage'
            format: 'inteiro'
            fn_args:
              - named_prop: "agr_count_cd_municipio_ibge_dv"
              - fixed: 5570
          - function: 'calc_percentage'
            format: 'inteiro'
            fn_args:
              - named_prop: "agr_sum_estimated_population_2019"
              - fixed: 210147125
# ========================================================
secoes:
  - id: 'prevalencia_serie'
    name: 'Série Histórica'
    cards:
# ========================================================
      - id: "line_casos"
        type: "multiple-charts"
        title: 
          fixed: "Casos confirmados - Série Histórica"
        title_comment:
          template: "Brasil, {0} a {1}"
          api: 
            fixed: "/thematic/casoscovid19?categorias=1&valor=last_available_date&agregacao=MAX,MIN&filtros=eq-place_type-'state'"
          args:
            - named_prop: "agr_min_last_available_date"
              format: 'dataDMY'
            - named_prop: "agr_max_last_available_date"
              format: 'dataDMY'
        # info:
        #   - type: "text"
        #     title: "Sobre a métrica"
        #     content:
        #       fixed: ""
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs12 md6'
                api: 
                  fixed: "/thematic/casoscovid19?categorias=1&valor=last_available_date,last_available_confirmed&agregacao=MAX,SUM&filtros=eq-place_type-'state',and,eq-is_last-TRUE"
                args:
                  - prop: "value"
                    named_prop: 'agr_sum_last_available_confirmed'
                    format: 'inteiro'
                    default: "Sem Registros"
                    zero: "Nenhum"
                  - prop: "description"
                    fixed: 'Casos confirmados'
          - type: "text"
            title: ""
            content:
              fixed: "Em destaque, o número de casos confirmados.<br/>"
        charts:
          - id: "line_casos_diarios"  
            title: "Casos confirmados diários"
            cls: "xs12 md6"
            type: "LINE"
            api: 
              - fixed: "/thematic/casoscovid19?categorias='Casos confirmados'-cd_indicador,date_info,date_info-tooltip_date&valor=new_confirmed&agregacao=SUM&filtros=eq-place_type-'state',and,eq-is_repeated-false&ordenacao=date_info"
                options:
                  formatters:
                    - id: "agr_sum_new_confirmed"
                      format: 'inteiro'
                    - id: "date_info"
                      format: 'dataYMD'
                    - id: "tooltip_date"
                      format: 'dataDMY'
            headers:
              - text: 'Data'
                align: 'left'
                value: 'fmt_tooltip_date'
              - text: 'Casos confirmados'
                value: 'fmt_agr_sum_new_confirmed'
            options:
              id: "cd_indicador"
              x: "fmt_date_info"
              y: "agr_sum_new_confirmed"
              hide_legend: false
              legend_field: "cd_indicador"
              colorArray: ["#377EB8"]  # blue
          - id: "line_casos_acumulados"  
            title: "Casos confirmados acumulados"
            cls: "xs12 md6"
            type: "LINE"
            api: 
              - fixed: "/thematic/casoscovid19?categorias='Casos confirmados'-cd_indicador,date_info,date_info-tooltip_date&valor=last_available_confirmed&agregacao=SUM&filtros=eq-place_type-'state'&ordenacao=date_info"
                options:
                  formatters:
                    - id: "agr_sum_last_available_confirmed"
                      format: 'inteiro'
                    - id: "date_info"
                      format: 'dataYMD'
                    - id: "tooltip_date"
                      format: 'dataDMY'
            headers:
              - text: 'Data'
                align: 'left'
                value: 'fmt_tooltip_date'
              - text: 'Casos acumulados'
                value: 'fmt_agr_sum_last_available_confirmed'
            options:
              id: "cd_indicador"
              x: "fmt_date_info"
              y: "agr_sum_last_available_confirmed"
              hide_legend: false
              legend_field: "cd_indicador"
              colorArray: ["#377EB8"]  # blue
# ========================================================
      - id: "line_obitos"
        type: "multiple-charts"
        title: 
          fixed: "Óbitos confirmados - Série Histórica"
        title_comment:
          template: "Brasil, {0} a {1}"
          api: 
            fixed: "/thematic/casoscovid19?categorias=1&valor=last_available_date&agregacao=MAX,MIN&filtros=eq-place_type-'state'"
          args:
            - named_prop: "agr_min_last_available_date"
              format: 'dataDMY'
            - named_prop: "agr_max_last_available_date"
              format: 'dataDMY'
        # info:
        #   - type: "text"
        #     title: "Sobre a métrica"
        #     content:
        #       fixed: ""
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs12 md6'
                api: 
                  fixed: "/thematic/casoscovid19?categorias=1&valor=last_available_date,last_available_deaths&agregacao=MAX,SUM&filtros=eq-place_type-'state',and,eq-is_last-TRUE"
                args:
                  - prop: "value"
                    named_prop: 'agr_sum_last_available_deaths'
                    format: 'inteiro'
                    default: "Sem Registros"
                    zero: "Nenhum"
                  - prop: "description"
                    fixed: 'Óbitos confirmados'
          - type: "text"
            title: ""
            content:
              fixed: "Em destaque, o número de óbitos confirmados.<br/>"
        charts:
          - id: "line_obitos_diarios"
            title: "Óbitos confirmados diários"
            cls: "xs12 md6"
            type: "LINE"
            api: 
              - fixed: "/thematic/casoscovid19?categorias='Óbitos confirmados'-cd_indicador,date_info,date_info-tooltip_date&valor=new_deaths&agregacao=SUM&filtros=eq-place_type-'state',and,eq-is_repeated-false&ordenacao=date_info"
                options:
                  formatters:
                    - id: "agr_sum_new_deaths"
                      format: 'inteiro'
                    - id: "date_info"
                      format: 'dataYMD'
                    - id: "tooltip_date"
                      format: 'dataDMY'
            headers:
              - text: 'Data'
                align: 'left'
                value: 'fmt_tooltip_date'
              - text: 'Óbitos confirmados'
                value: 'fmt_agr_sum_new_deaths'
            options:
              id: "cd_indicador"
              x: "fmt_date_info"
              y: "agr_sum_new_deaths"
              hide_legend: false
              legend_field: "cd_indicador"
              colorArray: ["#E41A1C"]  # red
          - id: "line_obitos_acumulados"  
            title: "Óbitos confirmados acumulados"
            cls: "xs12 md6"
            type: "LINE"
            api: 
              - fixed: "/thematic/casoscovid19?categorias='Casos confirmados'-cd_indicador,date_info,date_info-tooltip_date&valor=last_available_deaths&agregacao=SUM&filtros=eq-place_type-'state'&ordenacao=date_info"
                options:
                  formatters:
                    - id: "agr_sum_last_available_deaths"
                      format: 'inteiro'
                    - id: "date_info"
                      format: 'dataYMD'
                    - id: "tooltip_date"
                      format: 'dataDMY'
            headers:
              - text: 'Data'
                align: 'left'
                value: 'fmt_tooltip_date'
              - text: 'Óbitos acumulados'
                value: 'fmt_agr_sum_last_available_deaths'
            options:
              id: "cd_indicador"
              x: "fmt_date_info"
              y: "agr_sum_last_available_deaths"
              hide_legend: false
              legend_field: "cd_indicador"
              colorArray: ["#E41A1C"]  # blue
