# ===================================================
principais:
  - relevance: 'lead' 
    cls: 'xs12 xl6'
    rowClass: "pt-0 px-3 pb-5"
    api:
      fixed: "/sst/indicadoresnacionais?categorias=cd_indicador,vl_indicador,ds_fonte,nu_competencia&filtros=eq-cd_indicador-'sst_bene_qtd_especie',and,eq-ds_agreg_primaria-'91',and,eq-nu_competencia-nu_competencia_max"
    args:
      - prop: "value"
        named_prop: 'vl_indicador'
        format: 'inteiro'
        collapse:
          format: 'real'
      - prop: "description"
        fixed: "CONCESSÕES DE BENEFÍCIO PREVIDENCIÁRIO - AUXÍLIO-DOENÇA POR ACIDENTE DO TRABALHO (B91)"
      - prop: 'comment'
        template: "({0}, {1})"
        args:
          - named_prop: "ds_fonte"
          - named_prop: "nu_competencia"
  - relevance: 'lead' 
    cls: 'xs12 xl6'
    rowClass: "pt-0 px-3 pb-5"
    api:
      fixed: "/sst/indicadoresnacionais?categorias=cd_indicador,vl_indicador,ds_fonte,nu_competencia&filtros=eq-cd_indicador-'sst_bene_qtd_especie',and,eq-ds_agreg_primaria-'92',and,eq-nu_competencia-nu_competencia_max"
    args:
      - prop: "value"
        named_prop: 'vl_indicador'
        format: 'inteiro'
        collapse:
          format: 'real'
      - prop: "description"
        fixed: "CONCESSÕES DE BENEFÍCIO PREVIDENCIÁRIO - APOSENTADORIA POR INVALIDEZ POR ACIDENTE DO TRABALHO (B92)"
      - prop: 'comment'
        template: "({0}, {1})"
        args:
          - named_prop: "ds_fonte"
          - named_prop: "nu_competencia"
# ===================================================
secoes:
  - id: "perfil_beneficios"
    name: "Afastamentos Previdenciários"
    cards:
# =====================================================
      - id: "treemap_agravo"
        type: "multiple-charts"
        title: 
          fixed: "Afastamentos por Agravo"
        title_comment:
          template: "Brasil, de {0} a {1}"
          args:
            - base_object: "sst_beneficio"
              named_prop: "agr_min_ano_beneficio"
            - base_object: "sst_beneficio"
              named_prop: "agr_max_ano_beneficio"
        info:
          - type: "text"
            title: "Sobre a métrica"
            content:
              fixed: "Sem observações adicionais. Vide descrição"
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs6'
                api:
                  template: "/sst/beneficios?categorias=ano_beneficio,cd_agrup_categoria_cid_agravo&agregacao=COUNT&filtros=ne-cd_agrup_categoria_cid_agravo-'',and,eq-cd_especie_beneficio-91,and,eq-ano_beneficio-{0}&ordenacao=-agr_count&limit=1"
                  args:
                    - base_object: "sst_beneficio"
                      named_prop: "agr_max_ano_beneficio"
                args:
                  - prop: "value"
                    named_prop: 'agr_count'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                    default: "Sem Registros"
                  - prop: "description"
                    template: '{0}<br/>B91'
                    args:
                      - named_prop: "cd_agrup_categoria_cid_agravo"
                  - prop: "comment"
                    named_prop: 'ano_beneficio'
              - relevance: 'high'
                cls: 'xs6'
                api:
                  template: "/sst/beneficios?categorias=ano_beneficio,cd_agrup_categoria_cid_agravo&agregacao=COUNT&filtros=ne-cd_agrup_categoria_cid_agravo-'',and,eq-cd_especie_beneficio-31,and,eq-ano_beneficio-{0}&ordenacao=-agr_count&limit=1"
                  args:
                    - base_object: "sst_beneficio"
                      named_prop: "agr_max_ano_beneficio"
                args:
                  - prop: "value"
                    named_prop: 'agr_count'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                    default: "Sem Registros"
                  - prop: "description"
                    template: '{0}<br/>B31'
                    args:
                      - named_prop: "cd_agrup_categoria_cid_agravo"
                  - prop: "comment"
                    named_prop: 'ano_beneficio'
          - type: "text"
            title: ""
            content:
              api: 
                fixed: "/sst/beneficios?categorias=1&valor=ano_beneficio&agregacao=MIN,MAX"
              template: "Em destaque, os motivos (por tipo de agravo, acidente ou doença) mais frequentes dos afastamentos acidentários (B91) e não acidentários (B31) no último ano apurado para a unidade geográfica selecionada, considerado o universo de trabalhadores com vínculo de emprego. No gráfico ao lado, comparam-se, para o período de {0} a {1}, as diferenças entre os benefícios acidentários e não acidentários. Isso permite, inclusive, a identificação de mudanças de padrão quanto ao motivo mais frequente, a percepçaõ de tendências e distinções quantitativas relevantes."
              args:
                - named_prop: "agr_min_ano_beneficio"
                - named_prop: "agr_max_ano_beneficio"
          - id: "slider_ano"
            type: "slider"
            range: true
            api: 
              fixed: "/sst/beneficios?categorias=1&valor=ano_beneficio&agregacao=MIN,MAX"
            args:
              - prop: "min"
                named_prop: "agr_min_ano_beneficio"
              - prop: "max"
                named_prop: "agr_max_ano_beneficio"
            selection:
              event: "selection"
              rules:
                filter: ",and,ge-ano_beneficio-{0},and,le-ano_beneficio-{1}"
                api:
                  args:
                    - named_prop: "value_min"
                    - named_prop: "value_max"
        charts:
# =====================================================
          - id: "treemap_agravo_b91"
            cls: "xs12 md6"
            footnote: 
              template: "Afastamentos por Agravo - B91 ({0}-{1})"
              args:
                - base_object: "sst_beneficio"
                  named_prop: "agr_min_ano_beneficio"
                - base_object: "sst_beneficio"
                  named_prop: "agr_max_ano_beneficio"
            type: "TREEMAP"
            api: 
              fixed: "/sst/beneficios?categorias=cd_agrup_categoria_cid_agravo&agregacao=COUNT&filtros=ne-cd_agrup_categoria_cid_agravo-'',and,eq-cd_especie_beneficio-91"
              options:
                  formatters:
                    - id: "agr_count"
                      format: 'inteiro'
            headers:
              - text: 'Categoria'
                value: 'cd_agrup_categoria_cid_agravo'
              - text: 'Qtde'
                value: 'fmt_agr_count'
            options:
              id: "cd_agrup_categoria_cid_agravo"
              size: "agr_count"
              text: "cd_agrup_categoria_cid_agravo"
              hide_legend: true
              colorScale:
                name: "Reds"
            # source:
            #   desc_field: "ds_fonte"                              
# =====================================================
          - id: "treemap_agravo_b31"
            cls: "xs12 md6"
            footnote: 
              template: "Afastamentos por Agravo - B31 ({0}-{1})"
              args:
                - base_object: "sst_beneficio"
                  named_prop: "agr_min_ano_beneficio"
                - base_object: "sst_beneficio"
                  named_prop: "agr_max_ano_beneficio"
            type: "TREEMAP"
            api: 
              fixed: "/sst/beneficios?categorias=cd_agrup_categoria_cid_agravo&agregacao=COUNT&filtros=ne-cd_agrup_categoria_cid_agravo-'',and,eq-cd_especie_beneficio-31"
              options:
                  formatters:
                    - id: "agr_count"
                      format: 'inteiro'
            headers:
              - text: 'Categoria'
                value: 'cd_agrup_categoria_cid_agravo'
              - text: 'Qtde'
                value: 'fmt_agr_count'
            options:
              id: "cd_agrup_categoria_cid_agravo"
              size: "agr_count"
              text: "cd_agrup_categoria_cid_agravo"
              hide_legend: true
              colorScale:
                name: "Blues"
            # source:
            #   desc_field: "ds_fonte"                              
# =====================================================
      - id: "treemap_graves"
        type: "multiple-charts"
        title: 
          fixed: "Afastamentos por Causas Externas"
        title_comment:
          template: "Brasil, de {0} a {1}"
          args:
            - base_object: "sst_beneficio"
              named_prop: "agr_min_ano_beneficio"
            - base_object: "sst_beneficio"
              named_prop: "agr_max_ano_beneficio"
        info:
          - type: "text"
            title: "Sobre a métrica"
            content:
              fixed: "Sem observações adicionais. Vide descrição"
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs6'
                api:
                  template: "/sst/beneficios?categorias=ano_beneficio,cd_agrupamento_categoria_cid&agregacao=COUNT&filtros=eq-cd_agrup_categoria_cid_agravo-'Acidentes',and,eq-cd_especie_beneficio-91,and,eq-ano_beneficio-{0}&ordenacao=-agr_count&limit=1"
                  args:
                    - base_object: "sst_beneficio"
                      named_prop: "agr_max_ano_beneficio"
                args:
                  - prop: "value"
                    named_prop: 'agr_count'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                    default: "Sem Registros"
                  - prop: "description"
                    template: '{0}<br/>B91'
                    args:
                      - named_prop: "cd_agrupamento_categoria_cid"
                  - prop: "comment"
                    named_prop: 'ano_beneficio'
              - relevance: 'high'
                cls: 'xs6'
                api:
                  template: "/sst/beneficios?categorias=ano_beneficio,cd_agrupamento_categoria_cid&agregacao=COUNT&filtros=eq-cd_agrup_categoria_cid_agravo-'Acidentes',and,eq-cd_especie_beneficio-31,and,eq-ano_beneficio-{0}&ordenacao=-agr_count&limit=1"
                  args:
                    - base_object: "sst_beneficio"
                      named_prop: "agr_max_ano_beneficio"
                args:
                  - prop: "value"
                    named_prop: 'agr_count'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                    default: "Sem Registros"
                  - prop: "description"
                    template: '{0}<br/>B31'
                    args:
                      - named_prop: "cd_agrupamento_categoria_cid"
                  - prop: "comment"
                    named_prop: 'ano_beneficio'
          - type: "text"
            title: ""
            content:
              api: 
                fixed: "/sst/beneficios?categorias=1&valor=ano_beneficio&agregacao=MIN,MAX"
              template: "Em destaque, o número de afastamentos acidentários (B91) e não acidentários (B31) no último ano apurado para a unidade geográfica selecionada, em casos relacionados a lesões, envenenamentos e outras conseqüências de causas externas, (Capítulo XIX da Classificação Internacional de Doenças), considerado o universo de trabalhadores com vínculo de emprego. No gráfico ao lado, comparam-se, para o período de {0} a {1}, as diferenças entre os benefícios acidentários e não acidentários. Isso permite, inclusive, a identificação de mudanças de padrão quanto à causa mais frequente ou a percepção de sua persistência."
              args:
                - named_prop: "agr_min_ano_beneficio"
                - named_prop: "agr_max_ano_beneficio"
          - id: "slider_ano"
            type: "slider"
            range: true
            api: 
              fixed: "/sst/beneficios?categorias=1&valor=ano_beneficio&agregacao=MIN,MAX"
            args:
              - prop: "min"
                named_prop: "agr_min_ano_beneficio"
              - prop: "max"
                named_prop: "agr_max_ano_beneficio"
            selection:
              event: "selection"
              rules:
                filter: ",and,ge-ano_beneficio-{0},and,le-ano_beneficio-{1}"
                api:
                  args:
                    - named_prop: "value_min"
                    - named_prop: "value_max"
        charts:
# =====================================================
          - id: "treemap_graves_b91"
            cls: "xs12 md6"
            footnote: 
              template: "Afastamentos por Causas Externas - B91 ({0}-{1})"
              args:
                - base_object: "sst_beneficio"
                  named_prop: "agr_min_ano_beneficio"
                - base_object: "sst_beneficio"
                  named_prop: "agr_max_ano_beneficio"
            type: "TREEMAP"
            api: 
              fixed: "/sst/beneficios?categorias=cd_agrupamento_categoria_cid&agregacao=COUNT&filtros=eq-cd_agrup_categoria_cid_agravo-'Acidentes',and,eq-cd_especie_beneficio-91"
              options:
                  formatters:
                    - id: "agr_count"
                      format: 'inteiro'
            headers:
              - text: 'Categoria'
                value: 'cd_agrupamento_categoria_cid'
              - text: 'Qtde'
                value: 'fmt_agr_count'
            options:
              id: "cd_agrupamento_categoria_cid"
              size: "agr_count"
              text: "cd_agrupamento_categoria_cid"
              hide_legend: true
              colorScale:
                name: "Reds"
            # source:
            #   desc_field: "ds_fonte"          
# =====================================================
          - id: "treemap_graves_b31"
            cls: "xs12 md6"
            footnote: 
              template: "Afastamentos por Causas Externas - B31 ({0}-{1})"
              args:
                - base_object: "sst_beneficio"
                  named_prop: "agr_min_ano_beneficio"
                - base_object: "sst_beneficio"
                  named_prop: "agr_max_ano_beneficio"
            type: "TREEMAP"
            api: 
              fixed: "/sst/beneficios?categorias=cd_agrupamento_categoria_cid&agregacao=COUNT&filtros=eq-cd_agrup_categoria_cid_agravo-'Acidentes',and,eq-cd_especie_beneficio-31"
              options:
                  formatters:
                    - id: "agr_count"
                      format: 'inteiro'
            headers:
              - text: 'Categoria'
                value: 'cd_agrupamento_categoria_cid'
              - text: 'Qtde'
                value: 'fmt_agr_count'
            options:
              id: "cd_agrupamento_categoria_cid"
              size: "agr_count"
              text: "cd_agrupamento_categoria_cid"
              hide_legend: true
              colorScale:
                name: "Blues"
            # source:
            #   desc_field: "ds_fonte"          
# =====================================================
      - id: "treemap_doencas"
        type: "multiple-charts"
        title: 
          fixed: "Afastamentos Conforme os Tipos de Doenças"
        title_comment:
          template: "Brasil, de {0} a {1}"
          args:
            - base_object: "sst_beneficio"
              named_prop: "agr_min_ano_beneficio"
            - base_object: "sst_beneficio"
              named_prop: "agr_max_ano_beneficio"
        info:
          - type: "text"
            title: "Sobre a métrica"
            content:
              fixed: "Sem observações adicionais. Vide descrição"
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs6'
                api:
                  template: "/sst/beneficios?categorias=ano_beneficio,cd_agp_cat_cid_agrv_det_doenca&agregacao=COUNT&filtros=ne-cd_agp_cat_cid_agrv_det_doenca-'',and,eq-cd_especie_beneficio-91,and,eq-ano_beneficio-{0}&ordenacao=-agr_count&limit=1"
                  args:
                    - base_object: "sst_beneficio"
                      named_prop: "agr_max_ano_beneficio"
                args:
                  - prop: "value"
                    named_prop: 'agr_count'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                    default: "Sem Registros"
                  - prop: "description"
                    template: '{0}<br/>B91'
                    args:
                      - named_prop: "cd_agp_cat_cid_agrv_det_doenca"
                  - prop: "comment"
                    named_prop: 'ano_beneficio'
              - relevance: 'high'
                cls: 'xs6'
                api:
                  template: "/sst/beneficios?categorias=ano_beneficio,cd_agp_cat_cid_agrv_det_doenca&agregacao=COUNT&filtros=ne-cd_agp_cat_cid_agrv_det_doenca-'',and,eq-cd_especie_beneficio-31,and,eq-ano_beneficio-{0}&ordenacao=-agr_count&limit=1"
                  args:
                    - base_object: "sst_beneficio"
                      named_prop: "agr_max_ano_beneficio"
                args:
                  - prop: "value"
                    named_prop: 'agr_count'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                    default: "Sem Registros"
                  - prop: "description"
                    template: '{0}<br/>B31'
                    args:
                      - named_prop: "cd_agp_cat_cid_agrv_det_doenca"
                  - prop: "comment"
                    named_prop: 'ano_beneficio'
          - type: "text"
            title: ""
            content:
              api: 
                fixed: "/sst/beneficios?categorias=1&valor=ano_beneficio&agregacao=MIN,MAX"
              template: "Em destaque, os afastamentos com os tipos de doenças mais frequentes registradas para afastamentos acidentários (B91) e não acidentários (B31) no último ano apurado para a unidade geográfica selecionada, considerado o universo de trabalhadores com vínculo de emprego. No caso, criou-se uma simplificação textual da Classificação Internacional de Doenças para facilitar a compreensão. No gráfico ao lado, comparam-se, para o período de {0} a {1}, as diferenças entre os benefícios acidentários e não acidentários. Isso permite, inclusive, a identificação de mudanças de padrão quanto às doenças mais frequentes e a percepção de tendências e distinções quantitativas relevantes."
              args:
                - named_prop: "agr_min_ano_beneficio"
                - named_prop: "agr_max_ano_beneficio"
          - id: "slider_ano"
            type: "slider"
            range: true
            api: 
              fixed: "/sst/beneficios?categorias=1&valor=ano_beneficio&agregacao=MIN,MAX"
            args:
              - prop: "min"
                named_prop: "agr_min_ano_beneficio"
              - prop: "max"
                named_prop: "agr_max_ano_beneficio"
            selection:
              event: "selection"
              rules:
                filter: ",and,ge-ano_beneficio-{0},and,le-ano_beneficio-{1}"
                api:
                  args:
                    - named_prop: "value_min"
                    - named_prop: "value_max"
        charts:
# =====================================================
          - id: "treemap_doencas_b91"
            cls: "xs12 md6"
            footnote: 
              template: "Tipos de Doenças - B91 ({0}-{1})"
              args:
                - base_object: "sst_beneficio"
                  named_prop: "agr_min_ano_beneficio"
                - base_object: "sst_beneficio"
                  named_prop: "agr_max_ano_beneficio"
            type: "TREEMAP"
            api: 
              fixed: "/sst/beneficios?categorias=cd_agp_cat_cid_agrv_det_doenca&agregacao=COUNT&filtros=ne-cd_agp_cat_cid_agrv_det_doenca-'',and,eq-cd_especie_beneficio-91"
              options:
                  formatters:
                    - id: "agr_count"
                      format: 'inteiro'
            headers:
              - text: 'Categoria'
                value: 'cd_agp_cat_cid_agrv_det_doenca'
              - text: 'Qtde'
                value: 'fmt_agr_count'
            options:
              id: "cd_agp_cat_cid_agrv_det_doenca"
              size: "agr_count"
              text: "cd_agp_cat_cid_agrv_det_doenca"
              hide_legend: true
              colorScale:
                name: "Reds"
            # source:
            #   desc_field: "ds_fonte"                    
# =====================================================
          - id: "treemap_doencas_b31"
            cls: "xs12 md6"
            footnote: 
              template: "Tipos de Doenças - B31 ({0}-{1})"
              args:
                - base_object: "sst_beneficio"
                  named_prop: "agr_min_ano_beneficio"
                - base_object: "sst_beneficio"
                  named_prop: "agr_max_ano_beneficio"
            type: "TREEMAP"
            api: 
              fixed: "/sst/beneficios?categorias=cd_agp_cat_cid_agrv_det_doenca&agregacao=COUNT&filtros=ne-cd_agp_cat_cid_agrv_det_doenca-'',and,eq-cd_especie_beneficio-31"
              options:
                  formatters:
                    - id: "agr_count"
                      format: 'inteiro'
            headers:
              - text: 'Categoria'
                value: 'cd_agp_cat_cid_agrv_det_doenca'
              - text: 'Qtde'
                value: 'fmt_agr_count'
            options:
              id: "cd_agp_cat_cid_agrv_det_doenca"
              size: "agr_count"
              text: "cd_agp_cat_cid_agrv_det_doenca"
              hide_legend: true
              colorScale:
                name: "Blues"
            # source:
            #   desc_field: "ds_fonte"                    
# =====================================================
      - id: "treemap_afast_doencas"
        type: "multiple-charts"
        title: 
          fixed: "Afastamentos conforme a Classificação Internacional de Doenças"
        title_comment:
          template: "Brasil, de {0} a {1}"
          args:
            - base_object: "sst_beneficio"
              named_prop: "agr_min_ano_beneficio"
            - base_object: "sst_beneficio"
              named_prop: "agr_max_ano_beneficio"
        info:
          - type: "text"
            title: "Sobre a métrica"
            content:
              fixed: "Sem observações adicionais. Vide descrição"
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs6'
                api:
                  template: "/sst/beneficios?categorias=ano_beneficio,cd_agrupamento_categoria_cid&agregacao=COUNT&filtros=ne-cd_agrupamento_categoria_cid-'',and,eq-cd_especie_beneficio-91,and,eq-ano_beneficio-{0}&ordenacao=-agr_count&limit=1"
                  args:
                    - base_object: "sst_beneficio"
                      named_prop: "agr_max_ano_beneficio"
                args:
                  - prop: "value"
                    named_prop: 'agr_count'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                    default: "Sem Registros"
                  - prop: "description"
                    template: '{0}<br/>B91'
                    args:
                      - named_prop: "cd_agrupamento_categoria_cid"
                  - prop: "comment"
                    named_prop: 'ano_beneficio'
              - relevance: 'high'
                cls: 'xs6'
                api:
                  template: "/sst/beneficios?categorias=ano_beneficio,cd_agrupamento_categoria_cid&agregacao=COUNT&filtros=ne-cd_agrupamento_categoria_cid-'',and,eq-cd_especie_beneficio-31,and,eq-ano_beneficio-{0}&ordenacao=-agr_count&limit=1"
                  args:
                    - base_object: "sst_beneficio"
                      named_prop: "agr_max_ano_beneficio"
                args:
                  - prop: "value"
                    named_prop: 'agr_count'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                    default: "Sem Registros"
                  - prop: "description"
                    template: '{0}<br/>B31'
                    args:
                      - named_prop: "cd_agrupamento_categoria_cid"
                  - prop: "comment"
                    named_prop: 'ano_beneficio'
          - type: "text"
            title: ""
            content:
              api: 
                fixed: "/sst/beneficios?categorias=1&valor=ano_beneficio&agregacao=MIN,MAX"
              template: "Em destaque, os capítulos da Classificação Internacional de Doenças (CID) mais frequentemente associados a afastamentos do tipo acidentário (B91) e não acidentário (B31) no último ano apurado para a unidade geográfica selecionada, considerado o universo de trabalhadores com vínculo de emprego. No gráfico ao lado, comparam-se, para o período de {0} a {1}, as diferenças entre os benefícios acidentários e não acidentários. Isso permite, inclusive, a identificação de mudanças de padrão quanto ao motivo mais frequente, a percepçaõ de tendências e distinções quantitativas relevantes. Utilize os filtros abaixo para combinar as perspectivas."
              args:
                - named_prop: "agr_min_ano_beneficio"
                - named_prop: "agr_max_ano_beneficio"
          - id: "slider_ano"
            type: "slider"
            range: true
            api: 
              fixed: "/sst/beneficios?categorias=1&valor=ano_beneficio&agregacao=MIN,MAX"
            args:
              - prop: "min"
                named_prop: "agr_min_ano_beneficio"
              - prop: "max"
                named_prop: "agr_max_ano_beneficio"
            selection:
              event: "selection"
              rules:
                filter: ",and,ge-ano_beneficio-{0},and,le-ano_beneficio-{1}"
                api:
                  args:
                    - named_prop: "value_min"
                    - named_prop: "value_max"
          - id: "select_cnae"
            type: "select"
            multiple: true
            label: "Setor Econômico"
            api:
              template: "/sst/beneficios?categorias=ds_cnae_classe&agregacao=distinct&ordenacao=ds_cnae_classe"
              args:
                - named_prop: "idLocalidade"
            args:
              - prop: "id"
                named_prop: "ds_cnae_classe"
              - prop: "label"
                named_prop: "ds_cnae_classe"
                null_value: "(Não informado)"
            selection:
              event: "selection" 
              rules:
                filter: ",and,in-ds_cnae_classe-{0}"
                api:
                  args:
                    - named_prop: "ds_cnae_classe"
          - id: "select_cbo"
            type: "select"
            multiple: true
            label: "Ocupações"
            api:
              template: "/sst/beneficios?categorias=ds_cbo2002&agregacao=distinct&ordenacao=ds_cbo2002"
              args:
                - named_prop: "idLocalidade"
            args:
              - prop: "id"
                named_prop: "ds_cbo2002"
              - prop: "label"
                named_prop: "ds_cbo2002"
                null_value: "(Não identificado)"
            selection:
              event: "selection" 
              rules:
                filter: ",and,in-ds_cbo2002-{0}"
                api:
                  args:
                    - named_prop: "ds_cbo2002"
        charts:
# =====================================================
          - id: "treemap_afast_doencas_b91"
            cls: "xs12 md6"
            footnote: 
              template: "Afastamentos por CID - B91 ({0}-{1})"
              args:
                - base_object: "sst_beneficio"
                  named_prop: "agr_min_ano_beneficio"
                - base_object: "sst_beneficio"
                  named_prop: "agr_max_ano_beneficio"
            type: "TREEMAP"
            api: 
              fixed: "/sst/beneficios?categorias=cd_agrupamento_categoria_cid&agregacao=COUNT&filtros=ne-cd_agrupamento_categoria_cid-'',and,eq-cd_especie_beneficio-91"
              options:
                  formatters:
                    - id: "agr_count"
                      format: 'inteiro'
            headers:
              - text: 'Categoria'
                value: 'cd_agrupamento_categoria_cid'
              - text: 'Qtde'
                value: 'fmt_agr_count'
            options:
              id: "cd_agrupamento_categoria_cid"
              size: "agr_count"
              text: "cd_agrupamento_categoria_cid"
              hide_legend: true
              colorScale:
                name: "Reds"
            # source:
            #   desc_field: "ds_fonte"                    
# =====================================================
          - id: "treemap_afast_doencas_b31"
            cls: "xs12 md6"
            footnote: 
              template: "Afastamentos por CID - B31 ({0}-{1})"
              args:
                - base_object: "sst_beneficio"
                  named_prop: "agr_min_ano_beneficio"
                - base_object: "sst_beneficio"
                  named_prop: "agr_max_ano_beneficio"
            type: "TREEMAP"
            api: 
              fixed: "/sst/beneficios?categorias=cd_agrupamento_categoria_cid&agregacao=COUNT&filtros=ne-cd_agrupamento_categoria_cid-'',and,eq-cd_especie_beneficio-31"
              options:
                  formatters:
                    - id: "agr_count"
                      format: 'inteiro'
            headers:
              - text: 'Categoria'
                value: 'cd_agrupamento_categoria_cid'
              - text: 'Qtde'
                value: 'fmt_agr_count'
            options:
              id: "cd_agrupamento_categoria_cid"
              size: "agr_count"
              text: "cd_agrupamento_categoria_cid"
              hide_legend: true
              colorScale:
                name: "Blues"
            # source:
            #   desc_field: "ds_fonte"                    
# =====================================================
      - id: "treemap_afast_cod_cid"
        type: "multiple-charts"
        title: 
          fixed: "Afastamentos conforme a Classificação Internacional de Doenças - Código"
        title_comment:
          template: "Brasil, de {0} a {1}"
          args:
            - base_object: "sst_beneficio"
              named_prop: "agr_min_ano_beneficio"
            - base_object: "sst_beneficio"
              named_prop: "agr_max_ano_beneficio"
        info:
          - type: "text"
            title: "Sobre a métrica"
            content:
              fixed: "Sem observações adicionais. Vide descrição"
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs6'
                api:
                  template: "/sst/beneficios?categorias=ano_beneficio,cd_categoria_cid_beneficio,ds_categoria_cid_beneficio&agregacao=COUNT&filtros=ne-ds_categoria_cid_beneficio-'',and,eq-cd_especie_beneficio-91,and,eq-ano_beneficio-{0}&ordenacao=-agr_count&limit=1"
                  args:
                    - base_object: "sst_beneficio"
                      named_prop: "agr_max_ano_beneficio"
                args:
                  - prop: "value"
                    named_prop: 'agr_count'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                    default: "Sem Registros"
                  - prop: "description"
                    template: '{0} - {1}<br/>B91'
                    args:
                      - named_prop: "cd_categoria_cid_beneficio"
                      - named_prop: "ds_categoria_cid_beneficio"
                  - prop: "comment"
                    named_prop: 'ano_beneficio'
              - relevance: 'high'
                cls: 'xs6'
                api:
                  template: "/sst/beneficios?categorias=ano_beneficio,cd_categoria_cid_beneficio,ds_categoria_cid_beneficio&agregacao=COUNT&filtros=ne-ds_categoria_cid_beneficio-'',and,eq-cd_especie_beneficio-31,and,eq-ano_beneficio-{0}&ordenacao=-agr_count&limit=1"
                  args:
                    - base_object: "sst_beneficio"
                      named_prop: "agr_max_ano_beneficio"
                args:
                  - prop: "value"
                    named_prop: 'agr_count'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                    default: "Sem Registros"
                  - prop: "description"
                    template: '{0} - {1}<br/>B91'
                    args:
                      - named_prop: "cd_categoria_cid_beneficio"
                      - named_prop: "ds_categoria_cid_beneficio"
                  - prop: "comment"
                    named_prop: 'ano_beneficio'
          - type: "text"
            title: ""
            content:
              api: 
                fixed: "/sst/beneficios?categorias=1&valor=ano_beneficio&agregacao=MIN,MAX"
              template: "Em destaque, os códigos da Classificação Internacional de Doenças (CID) mais frequentemente associados a afastamentos do tipo acidentário (B91) e não acidentário (B31) no último ano apurado para a unidade geográfica selecionada, considerado o universo de trabalhadores com vínculo de emprego. No gráfico ao lado, comparam-se, para o período de {0} a {1}, as diferenças entre os benefícios acidentários e não acidentários. Isso permite, inclusive, a identificação de mudanças de padrão quanto ao motivo mais frequente, a percepçaõ de tendências e distinções quantitativas relevantes. Utilize os filtros abaixo para combinar as perspectivas."
              args:
                - named_prop: "agr_min_ano_beneficio"
                - named_prop: "agr_max_ano_beneficio"
          - id: "slider_ano"
            type: "slider"
            range: true
            api: 
              fixed: "/sst/beneficios?categorias=1&valor=ano_beneficio&agregacao=MIN,MAX"
            args:
              - prop: "min"
                named_prop: "agr_min_ano_beneficio"
              - prop: "max"
                named_prop: "agr_max_ano_beneficio"
            selection:
              event: "selection"
              rules:
                filter: ",and,ge-ano_beneficio-{0},and,le-ano_beneficio-{1}"
                api:
                  args:
                    - named_prop: "value_min"
                    - named_prop: "value_max"
          - id: "select_cnae"
            type: "select"
            multiple: true
            label: "Setor Econômico"
            api:
              template: "/sst/beneficios?categorias=ds_cnae_classe&agregacao=distinct&ordenacao=ds_cnae_classe"
              args:
                - named_prop: "idLocalidade"
            args:
              - prop: "id"
                named_prop: "ds_cnae_classe"
              - prop: "label"
                named_prop: "ds_cnae_classe"
                null_value: "(Não informado)"
            selection:
              event: "selection" 
              rules:
                filter: ",and,in-ds_cnae_classe-{0}"
                api:
                  args:
                    - named_prop: "ds_cnae_classe"
          - id: "select_cbo"
            type: "select"
            multiple: true
            label: "Ocupações"
            api:
              template: "/sst/beneficios?categorias=ds_cbo2002&agregacao=distinct&ordenacao=ds_cbo2002"
              args:
                - named_prop: "idLocalidade"
            args:
              - prop: "id"
                named_prop: "ds_cbo2002"
              - prop: "label"
                named_prop: "ds_cbo2002"
                null_value: "(Não identificado)"
            selection:
              event: "selection" 
              rules:
                filter: ",and,in-ds_cbo2002-{0}"
                api:
                  args:
                    - named_prop: "ds_cbo2002"
        charts:
# =====================================================
          - id: "treemap_afast_cod_cid_b91"
            cls: "xs12 md6"
            footnote: 
              template: "Afastamentos por Código CID - B91 ({0}-{1})"
              args:
                - base_object: "sst_beneficio"
                  named_prop: "agr_min_ano_beneficio"
                - base_object: "sst_beneficio"
                  named_prop: "agr_max_ano_beneficio"
            type: "TREEMAP"
            api: 
              fixed: "/sst/beneficios?categorias=cd_categoria_cid_beneficio,ds_categoria_cid_beneficio&agregacao=COUNT&filtros=ne-ds_categoria_cid_beneficio-'',and,eq-cd_especie_beneficio-91"
              options:
                calcs:
                  - id: "bar_description"
                    function: "applyInterpolReplaceDatasetParam"
                    fn_args:
                      - fixed: 
                          template: "{0} - {1}"
                          args:
                            - named_prop: "cd_categoria_cid_beneficio"
                            - named_prop: "ds_categoria_cid_beneficio"
                formatters:
                  - id: "agr_count"
                    format: 'inteiro'
            headers:
              - text: 'Código CID'
                value: 'cd_categoria_cid_beneficio'
              - text: 'Descrição'
                value: 'ds_categoria_cid_beneficio'
              - text: 'Qtde'
                value: 'fmt_agr_count'
            options:
              id: "cd_categoria_cid_beneficio"
              size: "agr_count"
              text: "calc_bar_description"
              hide_legend: true
              colorScale:
                name: "Reds"
            # source:
            #   desc_field: "ds_fonte"                    
# =====================================================
          - id: "treemap_afast_cod_cid_b31"
            cls: "xs12 md6"
            footnote: 
              template: "Afastamentos por Código CID - B31 ({0}-{1})"
              args:
                - base_object: "sst_beneficio"
                  named_prop: "agr_min_ano_beneficio"
                - base_object: "sst_beneficio"
                  named_prop: "agr_max_ano_beneficio"
            type: "TREEMAP"
            api: 
              fixed: "/sst/beneficios?categorias=cd_categoria_cid_beneficio,ds_categoria_cid_beneficio&agregacao=COUNT&filtros=ne-ds_categoria_cid_beneficio-'',and,eq-cd_especie_beneficio-31"
              options:
                calcs:
                  - id: "bar_description"
                    function: "applyInterpolReplaceDatasetParam"
                    fn_args:
                      - fixed: 
                          template: "{0} - {1}"
                          args:
                            - named_prop: "cd_categoria_cid_beneficio"
                            - named_prop: "ds_categoria_cid_beneficio"
                formatters:
                  - id: "agr_count"
                    format: 'inteiro'
            headers:
              - text: 'Código CID'
                value: 'cd_categoria_cid_beneficio'
              - text: 'Descrição'
                value: 'ds_categoria_cid_beneficio'
              - text: 'Qtde'
                value: 'fmt_agr_count'
            options:
              id: "cd_categoria_cid_beneficio"
              size: "agr_count"
              text: "calc_bar_description"
              hide_legend: true
              colorScale:
                name: "Blues"
            # source:
            #   desc_field: "ds_fonte"                    
# =====================================================
      - id: "treemap_benef_setores"
        type: "multiple-charts"
        title: 
          fixed: "Atividades Econômicas"
        title_comment:
          template: "Brasil, de {0} a {1}"
          args:
            - base_object: "sst_beneficio"
              named_prop: "agr_min_ano_beneficio"
            - base_object: "sst_beneficio"
              named_prop: "agr_max_ano_beneficio"
        info:
          - type: "text"
            title: "Sobre a métrica"
            content:
              fixed: "Sem observações adicionais. Vide descrição"
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs6'
                api:
                  template: "/sst/beneficios?categorias=ano_beneficio,ds_cnae_classe&agregacao=COUNT&filtros=ne-ds_cnae_classe-'',and,eq-cd_especie_beneficio-91,and,eq-ano_beneficio-{0}&ordenacao=-agr_count&limit=1"
                  args:
                    - base_object: "sst_beneficio"
                      named_prop: "agr_max_ano_beneficio"
                args:
                  - prop: "value"
                    named_prop: 'agr_count'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                    default: "Sem Registros"
                  - prop: "description"
                    template: '{0}<br/>B91'
                    args:
                      - named_prop: "ds_cnae_classe"
                  - prop: "comment"
                    named_prop: 'ano_beneficio'
              - relevance: 'high'
                cls: 'xs6'
                api:
                  template: "/sst/beneficios?categorias=ano_beneficio,ds_cnae_classe&agregacao=COUNT&filtros=ne-ds_cnae_classe-'',and,eq-cd_especie_beneficio-31,and,eq-ano_beneficio-{0}&ordenacao=-agr_count&limit=1"
                  args:
                    - base_object: "sst_beneficio"
                      named_prop: "agr_max_ano_beneficio"
                args:
                  - prop: "value"
                    named_prop: 'agr_count'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                    default: "Sem Registros"
                  - prop: "description"
                    template: '{0}<br/>B31'
                    args:
                      - named_prop: "ds_cnae_classe"
                  - prop: "comment"
                    named_prop: 'ano_beneficio'
          - type: "text"
            title: ""
            content:
              api: 
                fixed: "/sst/beneficios?categorias=1&valor=ano_beneficio&agregacao=MIN,MAX"
              template: "Em destaque, os setores econômicos mais frequentemente relacionados a afastamentos do tipo acidentário (B91) e não acidentário (B31) no último ano apurado para a unidade geográfica selecionada, considerado o universo de trabalhadores com vínculo de emprego. No gráfico ao lado, comparam-se, para o período de {0} a {1}, as diferenças entre os benefícios acidentários e não acidentários. Isso permite, inclusive, a identificação de mudanças de padrão quanto ao motivo mais frequente, a percepçaõ de tendências e distinções quantitativas relevantes. Utilize os filtros abaixo para combinar as perspectivas."
              args:
                - named_prop: "agr_min_ano_beneficio"
                - named_prop: "agr_max_ano_beneficio"
          - id: "slider_ano"
            type: "slider"
            range: true
            api: 
              fixed: "/sst/beneficios?categorias=1&valor=ano_beneficio&agregacao=MIN,MAX"
            args:
              - prop: "min"
                named_prop: "agr_min_ano_beneficio"
              - prop: "max"
                named_prop: "agr_max_ano_beneficio"
            selection:
              event: "selection"
              rules:
                filter: ",and,ge-ano_beneficio-{0},and,le-ano_beneficio-{1}"
                api:
                  args:
                    - named_prop: "value_min"
                    - named_prop: "value_max"
          - id: "select_cid"
            type: "select"
            multiple: true
            label: "Categoria CID"
            api:
              template: "/sst/beneficios?categorias=cd_agrupamento_categoria_cid&agregacao=distinct&ordenacao=cd_agrupamento_categoria_cid"
              args:
                - named_prop: "idLocalidade"
            args:
              - prop: "id"
                named_prop: "cd_agrupamento_categoria_cid"
              - prop: "label"
                named_prop: "cd_agrupamento_categoria_cid"
                null_value: "(Não informado)"
            selection:
              event: "selection" 
              rules:
                filter: ",and,in-cd_agrupamento_categoria_cid-{0}"
                api:
                  args:
                    - named_prop: "cd_agrupamento_categoria_cid"
          - id: "select_cbo"
            type: "select"
            multiple: true
            label: "Ocupações"
            api:
              template: "/sst/beneficios?categorias=ds_cbo2002&agregacao=distinct&ordenacao=ds_cbo2002"
              args:
                - named_prop: "idLocalidade"
            args:
              - prop: "id"
                named_prop: "ds_cbo2002"
              - prop: "label"
                named_prop: "ds_cbo2002"
                null_value: "(Não identificado)"
            selection:
              event: "selection" 
              rules:
                filter: ",and,in-ds_cbo2002-{0}"
                api:
                  args:
                    - named_prop: "ds_cbo2002"
        charts:
          - id: "treemap_benef_setores_b91"
            cls: "xs12 md6"
            footnote: 
              template: "Atividades Econômicas- B91 ({0}-{1})"
              args:
                - base_object: "sst_beneficio"
                  named_prop: "agr_min_ano_beneficio"
                - base_object: "sst_beneficio"
                  named_prop: "agr_max_ano_beneficio"
            type: "TREEMAP"
            api: 
              fixed: "/sst/beneficios?categorias=ds_cnae_classe&agregacao=COUNT&filtros=ne-ds_cnae_classe-'',and,eq-cd_especie_beneficio-91"
              options:
                  formatters:
                    - id: "agr_count"
                      format: 'inteiro'
            headers:
              - text: 'Setor'
                align: 'left'
                value: 'ds_cnae_classe'
              - text: 'Qtde'
                value: 'fmt_agr_count'
            options:
              id: "ds_cnae_classe"
              size: "agr_count"
              text: "ds_cnae_classe"
              hide_legend: true
              colorScale:
                name: "Reds"
            # source:
            #   desc_field: "ds_fonte"                    
          - id: "treemap_benef_setores_b31"
            cls: "xs12 md6"
            footnote: 
              template: "Atividades Econômicas- B31 ({0}-{1})"
              args:
                - base_object: "sst_beneficio"
                  named_prop: "agr_min_ano_beneficio"
                - base_object: "sst_beneficio"
                  named_prop: "agr_max_ano_beneficio"
            type: "TREEMAP"
            api: 
              fixed: "/sst/beneficios?categorias=ds_cnae_classe&agregacao=COUNT&filtros=ne-ds_cnae_classe-'',and,eq-cd_especie_beneficio-31"
              options:
                  formatters:
                    - id: "agr_count"
                      format: 'inteiro'
            headers:
              - text: 'Setor'
                align: 'left'
                value: 'ds_cnae_classe'
              - text: 'Qtde'
                value: 'fmt_agr_count'
            options:
              id: "ds_cnae_classe"
              size: "agr_count"
              text: "ds_cnae_classe"
              hide_legend: true
              colorScale:
                name: "Blues"
            # source:
            #   desc_field: "ds_fonte"                    
# =====================================================
      - id: "treemap_benef_cbo"
        type: "multiple-charts"
        title: 
          fixed: "Ocupações (CBO)"
        title_comment:
          template: "Brasil, de {0} a {1}"
          args:
            - base_object: "sst_beneficio"
              named_prop: "agr_min_ano_beneficio"
            - base_object: "sst_beneficio"
              named_prop: "agr_max_ano_beneficio"
        info:
          - type: "text"
            title: "Sobre a métrica"
            content:
              fixed: "Sem observações adicionais. Vide descrição"
        description:
          - type: "minicards"
            cards:
              - relevance: 'high'
                cls: 'xs6'
                api:
                  fixed: "/sst/beneficios?categorias=ds_cbo2002&agregacao=COUNT&filtros=ne-ds_cbo2002-'',and,eq-cd_especie_beneficio-91&ordenacao=-agr_count&limit=1"
                args:
                  - prop: "value"
                    named_prop: 'agr_count'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                    default: "Sem Registros"
                  - prop: "description"
                    template: '{0}<br/>B91'
                    args:
                      - named_prop: "ds_cbo2002"
              - relevance: 'high'
                cls: 'xs6'
                api:
                  fixed: "/sst/beneficios?categorias=ds_cbo2002&agregacao=COUNT&filtros=ne-ds_cbo2002-'',and,eq-cd_especie_beneficio-31&ordenacao=-agr_count&limit=1"
                args:
                  - prop: "value"
                    named_prop: 'agr_count'
                    format: 'inteiro'
                    collapse:
                      format: 'real'
                    default: "Sem Registros"
                  - prop: "description"
                    template: '{0}<br/>B31'
                    args:
                      - named_prop: "ds_cbo2002"
          - type: "text"
            title: ""
            content:
              api: 
                fixed: "/sst/beneficios?categorias=1&valor=ano_beneficio&agregacao=MIN,MAX"
              template: "Em destaque, as ocupações mais frequentemente vitimadas por afastamentos do tipo acidentário (B91) e não acidentário (B31) no período apurado para a unidade geográfica selecionada, considerado o universo de trabalhadores com vínculo de emprego. No gráfico ao lado, comparam-se, para o período de {0} a {1}, as diferenças entre os benefícios acidentários e não acidentários. Isso permite, inclusive, a identificação de mudanças de padrão quanto ao motivo mais frequente, a percepção de tendências e distinções quantitativas relevantes. Utilize os filtros abaixo para combinar as perspectivas."
              args:
                - named_prop: "agr_min_ano_beneficio"
                - named_prop: "agr_max_ano_beneficio"
          - id: "select_cnae"
            type: "select"
            multiple: true
            label: "Setor Econômico"
            api:
              template: "/sst/beneficios?categorias=ds_cnae_classe&agregacao=distinct&ordenacao=ds_cnae_classe"
              args:
                - named_prop: "idLocalidade"
            args:
              - prop: "id"
                named_prop: "ds_cnae_classe"
              - prop: "label"
                named_prop: "ds_cnae_classe"
                null_value: "(Não informado)"
            selection:
              event: "selection" 
              rules:
                filter: ",and,in-ds_cnae_classe-{0}"
                api:
                  args:
                    - named_prop: "ds_cnae_classe"
          - id: "select_cid"
            type: "select"
            multiple: true
            label: "Categoria CID"
            api:
              template: "/sst/beneficios?categorias=cd_agrupamento_categoria_cid&agregacao=distinct&ordenacao=cd_agrupamento_categoria_cid"
              args:
                - named_prop: "idLocalidade"
            args:
              - prop: "id"
                named_prop: "cd_agrupamento_categoria_cid"
              - prop: "label"
                named_prop: "cd_agrupamento_categoria_cid"
                null_value: "(Não informado)"
            selection:
              event: "selection" 
              rules:
                filter: ",and,in-cd_agrupamento_categoria_cid-{0}"
                api:
                  args:
                    - named_prop: "cd_agrupamento_categoria_cid"
        charts:
          - id: "treemap_benef_cbo_b91"
            cls: "xs12 md6"
            footnote: 
              template: "Ocupações- B91 ({0}-{1})"
              args:
                - base_object: "sst_beneficio"
                  named_prop: "agr_min_ano_beneficio"
                - base_object: "sst_beneficio"
                  named_prop: "agr_max_ano_beneficio"
            type: "TREEMAP"
            api: 
              fixed: "/sst/beneficios?categorias=ds_cbo2002&agregacao=COUNT&filtros=ne-ds_cbo2002-'',and,eq-cd_especie_beneficio-91"
              options:
                  formatters:
                    - id: "agr_count"
                      format: 'inteiro'
            headers:
              - text: 'Ocupação'
                align: 'left'
                value: 'ds_cbo2002'
              - text: 'Qtde'
                value: 'fmt_agr_count'
            options:
              id: "ds_cbo2002"
              size: "agr_count"
              text: "ds_cbo2002"
              hide_legend: true
              colorScale:
                name: "Reds"
            # source:
            #   desc_field: "ds_fonte"                    
          - id: "treemap_benef_cbo_b31"
            cls: "xs12 md6"
            footnote: 
              template: "Ocupações- B31 ({0}-{1})"
              args:
                - base_object: "sst_beneficio"
                  named_prop: "agr_min_ano_beneficio"
                - base_object: "sst_beneficio"
                  named_prop: "agr_max_ano_beneficio"
            type: "TREEMAP"
            api: 
              fixed: "/sst/beneficios?categorias=ds_cbo2002&agregacao=COUNT&filtros=ne-ds_cbo2002-'',and,eq-cd_especie_beneficio-31"
              options:
                  formatters:
                    - id: "agr_count"
                      format: 'inteiro'
            headers:
              - text: 'Ocupação'
                align: 'left'
                value: 'ds_cbo2002'
              - text: 'Qtde'
                value: 'fmt_agr_count'
            options:
              id: "ds_cbo2002"
              size: "agr_count"
              text: "ds_cbo2002"
              hide_legend: true
              colorScale:
                name: "Blues"
            # source:
            #   desc_field: "ds_fonte"                    